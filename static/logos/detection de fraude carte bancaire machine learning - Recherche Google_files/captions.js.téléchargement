(function(g){var window=this;'use strict';var I1Y=function(p,q,B){g.z(function(S){p.Z=g.aj(q,B);g.ob(S)})},g6=function(p){p.isActive()||p.start()},O_x=function(p,q){return q?p.captionsInitialState:"CAPTIONS_INITIAL_STATE_UNKNOWN"},oBx=function(p){return g.gu(p)||p.D("web_enable_caption_language_preference_stickiness")},nBb=function(p,q){var B=new g.FO;
B.languageCode=p.languageCode;B.languageName=p.languageName;B.name=p.name;B.displayName=p.displayName;B.kind=p.kind;B.isDefault=!1;B.W=p.W;B.isTranslateable=p.isTranslateable;B.vssId=p.vssId;B.url=p.url;B.translationLanguage=q;p.xtags&&(B.xtags=p.xtags);p.captionId&&(B.captionId=p.captionId);return B},gBx=function(p,q){var B,S,I;
return g.z(function(O){if(O.W==1)return B=p+"|"+q,g.X(O,g.pH(),2);if(O.W!=3){S=O.Z;if(!S)throw g.ZC("gct");return g.X(O,g.U1(S),3)}I=O.Z;return O.return(I.get("captions",B))})},w6I=function(p,q,B){gBx(p,q).then(function(S){S&&B(S.trackData,new g.FO(S.metadata))})},cRp=function(p){if(!H_z.test(p))throw Error("'"+p+"' is not a valid hex color");
p.length==4&&(p=p.replace(MRI,"#$1$1$2$2$3$3"));p=p.toLowerCase();p=parseInt(p.slice(1),16);return[p>>16,p>>8&255,p&255]},kqQ=function(){var p=void 0;
p=p===void 0?{}:p;var q="suggest_correction"in g.LSX?g.LSX.suggest_correction:"Edit caption";q=q||"";var B={},S;for(S in p){B={KE:B.KE};B.KE=S;var I=function(O){return function(){return String(p[O.KE])}}(B);
q=q.replace(new RegExp("\\$\\{"+B.KE+"\\}","gi"),I);q=q.replace(new RegExp("\\$"+B.KE,"gi"),I)}return q},rRY=function(){return g.zb("yt-player-caption-display-settings")},ARQ=function(p){g.kD.call(this,p);
this.Z=new Set},w6=function(){this.segments=[]},W7z=function(p,q){var B=g.cb(p.segments,q);
B>=0||B<0&&(-B-1)%2===1||(B=-B-1,B>0&&q-p.segments[B-1]===1&&B<p.segments.length&&p.segments[B]-q===1?(g.mS(p.segments,B),g.mS(p.segments,B-1)):B>0&&q-p.segments[B-1]===1?p.segments[B-1]=q:B<p.segments.length&&p.segments[B]-q===1?p.segments[B]=q:(g.gZ(p.segments,B,0,q),g.gZ(p.segments,B+1,0,q)))},P8l=function(p,q,B,S,I,O){g.y.call(this);
this.policy=p;this.player=q;this.N$=B;this.T=S;this.N=I;this.hU=O;this.j=new w6;this.C=-1;this.Z=this.K=this.W=null;this.Zy=0;this.X=new g.YN(this.JN,1E3,this);this.events=new g.k$(this);g.h(this,this.X);g.h(this,this.events);this.events.S(q,"SEEK_COMPLETE",this.Zu);this.Zu();this.JN()},uNp=function(p){return p.W&&p.W.N?p.W.N+p.player.QW()<p.player.getCurrentTime():!1},e5b=function(p,q){if(p.policy.P7&&p.player.lG()){var B=g.kp(q,p.policy,{});
B.set("pot",p.player.lG());B=B.E7()}else B=g.kp(q,p.policy,{}).E7();var S={format:"RAW",withCredentials:!0};if(p.policy.Rg){S.method="POST";var I=q.j;I&&Object.keys(I).length>0?S.postBody=g.tB(I,g.CZ):S.postBody=(0,g.Gy)([120,0])}p.N&&(S.responseType="arraybuffer");var O=++p.Zy,n=(0,g.FA)();p.Z=g.Xx(B,S,3,100,-1,function(H){H.errorCode==="net.timeout"&&p.player.xq("capnt",{rn:O++})}).then(function(H){if(p.policy.p_&&O%100===1){var M=(0,g.FA)();
p.player.xq("caprsp",{rn:O,ms:M-n,kb:(H.xhr.responseText.length/1024).toFixed()})}a:{H=H.xhr;p.Xg();if(p.K){var c=!(p.N?H.response:H.responseText)||H.status>=400;if(M=g.ApD(H)){H=g.kp(p.K,p.policy,{});p.K.d7(H,M);e5b(p,p.K);break a}if(c)p.player.xq("capfail",{status:H.status});else{var k;g.vr("fcb_r",(0,g.FA)(),((k=p.player.getVideoData())==null?void 0:k.hU)||"");k=p.K.WL[0];M=k.bd;p.T!=null&&p.C!==M&&(p.N?p.T(H.response,(k.startTime+p.player.QW())*1E3):p.T(H.responseText,(k.startTime+p.player.QW())*
1E3),p.C=M)}}p.K=null;p.Z=null}}).mp(function(H){p.K=null;
p.Z=null;var M;p.player.xq("capfail",{rn:O,status:(M=H.xhr)==null?void 0:M.status})});
p.K=q;W7z(p.j,p.K.WL[0].bd)},HM=function(p,q){g.kD.call(this,q);
this.Z=p;this.U=q;this.j=null;this.C=!1;this.logger=new g.Cs("caps");this.X=g.tIK(this.U,this.Z)},i_p=function(p,q){var B=[],S;
for(S in p.Z.W)if(p.Z.W.hasOwnProperty(S)){var I=p.Z.W[S];if(g.A9(I,q||null)){var O=I.info.id,n=O,H="."+O,M="",c="";if(I=I.info.captionTrack)O=I.languageCode,n=I.displayName,H=I.vssId,M=I.kind,c=I.id;else{I=O;var k=g.m5l.get(I);k==null&&(k=Z_b[I]||Z_b[I.replace(/-/g,"_")],g.m5l.set(I,k));I=k;n=I||n}B.push(new g.FO({id:S,languageCode:O,languageName:n,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:H,kind:M,captionId:c}))}}return B},QNb=function(p,q){return q!=null&&q in p.Z.W?p.Z.W[q]:null},
C8p=function(p,q,B){var S=[],I;
for(I in p.Z.W)if(p.Z.W.hasOwnProperty(I)){var O=p.Z.W[I];if(g.A9(O,B||null)){var n=O.info.captionTrack;n&&n.languageCode===q&&S.push(O)}}return S.length?S[0]:null},Ml=function(p,q,B,S,I,O,n,H,M,c){var k=c.isInline()&&!0,r={};
Object.assign(r,q);Object.assign(r,p.params);Object.assign(r,B);var W={};Object.assign(W,q.iK);p.params.iK&&Object.assign(W,p.params.iK);Object.assign(W,B.iK);k&&(r.windowOpacity=.6,W.backgroundOpacity=0);r.iK=W;var A=r.B0===1,P=[{J:"span",G:"captions-text",Y:{style:"word-wrap: normal; display: block;"}}],Q,J,R;(H=H.Ig("caption_edit_on_hover")&&((Q=c.getVideoData().getPlayerResponse())==null?void 0:(J=Q.captions)==null?void 0:(R=J.playerCaptionsTracklistRenderer)==null?void 0:R.openTranscriptCommand))&&
P.unshift({J:"button",G:"caption-edit",Y:{tabindex:"0","aria-label":kqQ()},L:[{J:"svg",Y:{fill:"#e3e3e3",height:"100%",viewBox:"5 5 38 38",width:"100%"},L:[{J:"path",Y:{d:"M9 39h2.2l24.25-24.25-1.1-1.1-1.1-1.1L9 36.8Zm-3 3v-6.4L35.4 6.2q.85-.85 2.12-.82 1.27.02 2.12.87L41.8 8.4q.85.85.85 2.1t-.85 2.1L12.4 42Zm33.5-31.55L37.45 8.4Zm-4.05 4.3-1.1-1.1-1.1-1.1 2.2 2.2Z"}}]}]});g.t.call(this,{J:"div",G:"caption-window",Y:{id:"caption-window-"+p.id,dir:A?"rtl":"ltr",tabindex:"0",lang:r.lang},L:P});var a=
this;this.C=[];this.q$=!1;this.Z=p;this.GR=this.sZ=null;this.lR=O;this.W6=n;this.X=null;this.maxWidth=O*.96;this.maxHeight=n*.96;this.W=r;this.m9=B;this.Kb=q;this.j=this.JU("captions-text");this.bN=this.j.style.getPropertyValue("box-decoration-break")!==""||this.j.style.getPropertyValue("-webkit-box-decoration-break")!=="";this.Yq=JRX(S,I,O,n);this.UF=M;H&&(this.N=this.JU("caption-edit"),this.S(this.N,"click",function(){a.UF()}));
this.type=0;this.zR=this.Yq*b_b(W);this.jN=k;p=new g.Fn(this.element,!0);g.h(this,p);p.subscribe("dragstart",this.u_,this);p.subscribe("dragmove",this.fp,this);p.subscribe("dragend",this.y4,this);this.Lb=this.yV=this.Z3=this.eh=0;p="";this.W.windowOpacity&&(p=cRp(this.W.windowColor),p="rgba("+p[0]+","+p[1]+","+p[2]+","+this.W.windowOpacity+")");q={"background-color":p,display:this.W.isVisible===!1?"none":"","text-align":F7C[this.W.textAlign]};this.bN&&(q["border-radius"]=p?this.zR/8+"px":"");(this.K=
this.Z.params.B0===2||this.Z.params.B0===3)&&dAj(this,this.element);g.IN(this.element,q);if(k){var v;(v=this.element.parentElement)==null||v.style.setProperty("--caption-window-color",p)}switch(this.W.nj){case 0:case 1:case 2:g.o_(this.element,"ytp-caption-window-top");break;case 6:case 7:case 8:g.o_(this.element,"ytp-caption-window-bottom")}},dAj=function(p,q){var B="vertical-rl";
p.W.dJ===1&&(B="vertical-lr");g.r8&&(B=B==="vertical-lr"?"tb-lr":"tb-rl");g.IN(q,"-o-writing-mode",B);g.IN(q,"-webkit-writing-mode",B);g.IN(q,"writing-mode",B);g.IN(q,"text-orientation","upright");g.o_(q,"ytp-vertical-caption");p.Z.params.B0===3&&(g.IN(q,"text-orientation",""),g.IN(q,"transform","rotate(180deg)"))},b_b=function(p){var q=1+.25*(p.fontSizeIncrement||0);
if(p.offset===0||p.offset===2)q*=.8;return q},$AI=function(p,q){var B={},S=q.background?q.background:p.W.iK.background;
if(q.backgroundOpacity!=null||q.background){var I=q.backgroundOpacity!=null?q.backgroundOpacity:p.W.iK.backgroundOpacity;S=cRp(S);B.background="rgba("+S[0]+","+S[1]+","+S[2]+","+I+")";p.bN&&(B["box-decoration-break"]="clone",B["border-radius"]=p.zR/8+"px")}if(q.fontSizeIncrement!=null||q.offset!=null)B["font-size"]=p.Yq*b_b(q)+"px";S=1;I=q.color||p.W.iK.color;if(q.color||q.textOpacity!=null)I=cRp(I),S=q.textOpacity==null?p.W.iK.textOpacity:q.textOpacity,I="rgba("+I[0]+","+I[1]+","+I[2]+","+S+")",
B.color=I,B.fill=I;var O=q.charEdgeStyle;O===0&&(O=void 0);if(O){I="rgba(34, 34, 34, "+S+")";var n="rgba(204, 204, 204, "+S+")";q.v5&&(n=I=q.v5);var H=p.Yq/16/2,M=Math.max(H,1),c=Math.max(2*H,1),k=Math.max(3*H,1),r=Math.max(5*H,1);S=[];switch(O){case 4:for(;k<=r;k+=H)S.push(c+"px "+c+"px "+k+"px "+I);break;case 1:c=window.devicePixelRatio>=2?.5:1;for(O=M;O<=k;O+=c)S.push(O+"px "+O+"px "+I);break;case 2:S.push(M+"px "+M+"px "+n);S.push("-"+M+"px -"+M+"px "+I);break;case 3:for(k=0;k<5;k++)S.push("0 0 "+
c+"px "+I)}B["text-shadow"]=S.join(", ")}I="";switch(q.fontFamily){case 1:I='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';break;case 2:I='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif';break;case 3:I='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';break;case 5:I='"Comic Sans MS", Impact, Handlee, fantasy';break;case 6:I='"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';break;case 7:I=g.YW()?
'"Carrois Gothic SC", sans-serif-smallcaps':'Arial, Helvetica, Verdana, "Marcellus SC", sans-serif';break;case 0:case 4:I='"YouTube Noto", Roboto, Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}I&&(B["font-family"]=I);I=q.offset;I==null&&(I=p.W.iK.offset);switch(I){case 0:B["vertical-align"]="sub";break;case 2:B["vertical-align"]="super"}q.fontFamily===7&&(B["font-variant"]="small-caps");q.bold&&(B["font-weight"]="bold");q.italic&&(B["font-style"]="italic");q.underline&&(B["text-decoration"]=
"underline");q.Oby&&(B.visibility="hidden");q.Mo===1&&p.K&&(B["text-combine-upright"]="all",B["text-orientation"]="mixed",I=g.cN||g.uz,p.Z.params.B0===3?B.transform=I?"rotate(90deg)":"rotate(180deg)":I&&(B.transform="rotate(-90deg)"));if(q.textEmphasis===1||q.textEmphasis===2||q.textEmphasis===3||q.textEmphasis===4||q.textEmphasis===5)if(g.cN)B["font-weight"]="bold";else switch(B["text-emphasis-style"]="filled circle",B["text-emphasis-color"]="currentcolor",B["webkit-text-emphasis"]="filled circle",
q.textEmphasis){case 4:case 3:B["text-emphasis-position"]="under left";B["webkit-text-emphasis-position"]="under left";break;case 5:case 2:B["text-emphasis-position"]="over right",B["webkit-text-emphasis-position"]="over right"}return B},cM=function(p){p=p.split("px");
return p.length>0?(p=Number(p[0]))?p:0:0},DAX=function(p){p.X=g.dF("SPAN");
g.IN(p.X,{display:"block"});g.o_(p.X,"caption-visual-line");p.j.appendChild(p.X)},a1z=function(p,q){var B=g.dF("SPAN");
g.IN(B,{display:"inline-block","white-space":"pre-wrap"});g.IN(B,$AI(p,q));B.classList.add("ytp-caption-segment");p.X.appendChild(B);B.previousElementSibling&&(g.IN(B.previousElementSibling,{"border-top-right-radius":"0","border-bottom-right-radius":"0"}),g.IN(B,{"border-top-left-radius":"0","border-bottom-left-radius":"0"}));return B},L7Y=function(p,q,B){p.q$=p.q$||!!B;
var S={};Object.assign(S,p.W.iK);Object.assign(S,B||q.W);Object.assign(S,p.m9.iK);(B=!p.X)&&DAX(p);for(var I=p.sZ&&p.GR&&g.RQ(S,p.GR)?p.sZ:a1z(p,S),O=typeof q.text==="string",n=O?q.text.split("\n"):[q.text],H=0;H<n.length;H++){var M=H>0||!q.append,c=n[H];M&&!B?(DAX(p),I=a1z(p,S)):M&&B&&(B=!1);c&&(I.appendChild(O?g.$a(c):c),O||c.tagName!=="RUBY"||c.childElementCount!==4||g.cN||!g.oN(c.children[2],"text-emphasis")||(M=p.K?"padding-right":"padding-top",g.oN(c.children[2],"text-emphasis-position")&&(M=
p.K?"padding-left":"padding-bottom"),g.Cw?g.IN(I,M,"1em"):g.IN(I,M,"0.5em")))}p.GR=S;p.sZ=I;p.C.push(q)},JRX=function(p,q,B,S){var I=q/360*16;
q>=p&&(p=640,S>B*1.3&&(p=480),I=B/p*16);return I},vBv=function(){this.K=this.time=this.mode=this.Z=0;
this.j=new R5l(this);this.N=new R5l(this);this.W=[];this.clear()},xAY=function(p,q,B){if(p===255&&q===255||!p&&!q)return{uZ:p,
xD:q,result:0};p=X6Q[p];q=X6Q[q];if(p&128){var S;if(S=!(q&128))S=q,S=B.RR()&&B.xD===S;if(S)return{uZ:p,xD:q,result:1}}else if(q&128&&1<=p&&p<=31)return{uZ:p,xD:q,result:2};return{uZ:p,xD:q,result:3}},z5v=function(p,q,B,S){q===255&&B===255||!q&&!B?(++p.K===45&&p.reset(),p.j.Z.clear(),p.N.Z.clear()):(p.K=0,Tpp(p.j,q,B,S))},VRl=function(p,q){p.W.sort(function(I,O){var n=I.time-O.time;
return n===0?I.order-O.order:n});
for(var B=g.L(p.W),S=B.next();!S.done;S=B.next())S=S.value,p.time=S.time,S.type===0?z5v(p,S.mQ,S.iF,q):S.type===1&&p.Z&496&&Tpp(p.N,S.mQ,S.iF,q);p.W.length=0},kg=function(){this.type=0},r6=function(){this.state=this.xD=this.uZ=0},yRX=function(){this.timestamp=this.W=0},AX=function(p){this.N=p;
this.K=[];this.W=this.Z=this.row=0;this.style=new kg;for(p=this.j=0;p<=15;p++){this.K[p]=[];for(var q=0;q<=32;q++)this.K[p][q]=new yRX}},WM=function(p,q){if(p.style.type===3){for(var B=0,S=0,I=p.N.time+0,O="",n="",H=I,M=1;M<=15;++M){for(var c=!1,k=S?S:1;k<=32;++k){var r=p.K[M][k];
if(r.W!==0){B===0&&(B=M,S=k);c=String.fromCharCode(r.W);var W=r.timestamp;W<I&&(I=W);r.timestamp=H;n&&(O+=n,n="");O+=c;c=!0}if((r.W===0||k===32)&&c){n="\n";break}else if(S&&!c)break}if(B&&!c)break}O&&q.j(B,S,I,H,O)}else for(S=B=0,O=I=p.N.time+0,n=1;n<=15;++n)for(H="",M=1;M<=32;++M)if(k=p.K[n][M],r=k.W,r!==0&&(B===0&&(B=n,S=M),c=String.fromCharCode(r),W=k.timestamp,W<=I&&(I=W),H+=c,k.reset()),M===32||r===0)H&&q.j(B,S,I,O,H),I=O,H="",S=B=0},EBb=function(p,q){switch(p){case 0:return Npl[(q&127)-32];
case 1:return GqQ[q&15];case 2:return h5l[q&31];case 3:return tRp[q&31]}return 0},PM=function(p){return p.K[p.row][p.Z]},ui=function(p,q,B){q>=2&&p.Z>1&&(--p.Z,PM(p).W=0);
var S=PM(p);S.timestamp=p.N.time+0;S.W=EBb(q,B);p.Z<32&&p.Z++},K7C=function(p,q,B,S){for(var I=0;I<S;I++)for(var O=0;O<=32;O++){var n=p.K[q+I][O],H=p.K[B+I][O];
n.W=H.W;n.timestamp=H.timestamp}},eB=function(p,q,B){for(var S=0;S<B;S++)for(var I=0;I<=32;I++)p.K[q+S][I].reset()},UAj=function(p){p.row=p.W>0?p.W:1;
p.Z=1;eB(p,0,15)},l1v=function(p){this.K=p;
this.N=0;this.style=new kg;this.C=new AX(this.K);this.X=new AX(this.K);this.text=new AX(this.K);this.Z=this.C;this.j=this.X;this.W=this.Z},jNl=function(p,q,B){var S=p.Z,I=!1;
switch(p.style.get()){case 4:case 1:case 2:p.style.get()===4&&S.W>0||(WM(S,B),UAj(p.Z),UAj(p.j),S.row=15,S.W=q,I=!0)}p.style.set(3);p.W=S;p.W.style=p.style;p.K.mode=1<<S.j;I?S.Z=1:S.W!==q&&(S.W>q?(WM(S,B),eB(S,S.row-S.W,q)):S.row<q&&(q=S.W),S.W=q)},YZX=function(p){p.style.set(1);
p.W=p.j;p.W.W=0;p.W.style=p.style;p.K.mode=1<<p.W.j},sNl=function(p){p.style.set(4);
p.W=p.text;p.W.style=p.style;p.K.mode=1<<p.W.j},R5l=function(p){this.W=p;
this.N=0;this.K=new l1v(this.W);this.C=new l1v(this.W);this.Z=new r6;this.j=this.K},Tpp=function(p,q,B,S){p.Z.update();
q=xAY(q,B,p.Z);switch(q.result){case 0:return;case 1:case 2:return}var I=q.uZ;B=q.xD;if(32<=I||!I)p.W.mode&p.W.Z&&(q=I,q&128&&(q=127),B&128&&(B=127),p=p.j.W,q&96&&ui(p,0,q),B&96&&ui(p,0,B),q!==0&&B!==0&&p.style.type===3&&WM(p,S));else if(I&16)a:if(!p.Z.matches(I,B)&&(q=p.Z,q.uZ=I,q.xD=B,q.state=2,q=I&8?p.C:p.K,p.j=q,p.W.mode=1<<(p.N<<2)+(q.N<<1)+(q.style.type===4?1:0),(p.W.mode|1<<(p.N<<2)+(q.N<<1)+(q.style.type!==4?1:0))&p.W.Z))if(B&64){S=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(I&7)<<1|B>>5&1];
p=B&16?((B&14)>>1)*4:0;B=q.W;switch(q.style.get()){case 4:S=B.row;break;case 3:if(S!==B.row){if(S<B.W&&(S=B.W,S===B.row))break;var O=1+B.row-B.W,n=1+S-B.W;K7C(B,n,O,B.W);q=O;I=B.W;n<O?(O=n+I-O,O>0&&(q+=O,I-=O)):(O=O+I-n,O>0&&(I-=O));eB(B,q,I)}}B.row=S;B.Z=p+1}else switch(I&7){case 1:switch(B&112){case 32:ui(q.W,0,32);break a;case 48:B===57?(S=q.W,PM(S).W=0,S.Z<32&&S.Z++):ui(q.W,1,B&15)}break;case 2:B&32&&ui(q.W,2,B&31);break;case 3:B&32&&ui(q.W,3,B&31);break;case 4:case 5:if(32<=B&&B<=47)switch(B){case 32:YZX(q);
break;case 33:S=q.W;S.Z>1&&(--S.Z,PM(S).W=0);break;case 36:S=q.W;q=PM(S);for(p=0;p<=15;p++)for(B=0;B<=32;B++)if(S.K[p][B]===q){for(;B<=32;B++)S.K[p][B].reset();break}break;case 37:jNl(q,2,S);break;case 38:jNl(q,3,S);break;case 39:jNl(q,4,S);break;case 40:ui(q.W,0,32);break;case 41:q.style.set(2);q.W=q.Z;q.W.W=0;q.W.style=q.style;q.K.mode=1<<q.W.j;break;case 42:S=q.text;S.W=15;S.style.set(4);UAj(S);sNl(q);break;case 43:sNl(q);break;case 44:p=q.Z;switch(q.style.get()){case 1:case 2:case 3:WM(p,S)}eB(p,
0,15);break;case 45:b:{p=q.W;switch(q.style.get()){default:case 2:case 1:break b;case 4:if(p.row<15){++p.row;p.Z=1;break b}break;case 3:}p.W<2&&(p.W=2,p.row<p.W&&(p.row=p.W));q=p.row-p.W+1;WM(p,S);K7C(p,q,q+1,p.W-1);eB(p,p.row,1)}break;case 46:eB(q.j,0,15);break;case 47:WM(q.Z,S),q.j.updateTime(q.K.time+0),S=q.j,q.j=q.Z,q.Z=S,YZX(q)}break;case 7:switch(B){case 33:case 34:case 35:S=q.W,(S.Z+=B&3)>32&&(S.Z=32)}}},mAS=function(){},ZK=function(p,q,B,S,I,O,n){O=O===void 0?!1:O;
n=n===void 0?null:n;g.hK.call(this,p,p+q,{priority:B,namespace:"captions"});this.windowId=S;this.text=I;this.append=O;this.W=n},pDl=function(p,q,B,S,I,O,n){var H=O[0],M=n[H.getAttribute("p")];
if(M.KK===1){var c=O[1],k=O[2];O=O[3];H.getAttribute("t");c.getAttribute("t");k.getAttribute("t");O.getAttribute("t");H.getAttribute("p");c.getAttribute("p");O.getAttribute("p");n=n[k.getAttribute("p")];H=f1S(H.textContent,c.textContent,k.textContent,O.textContent,n);return new ZK(p,q,I,B,H,S,M)}switch(M.KK){case 9:case 10:M.textEmphasis=1;break;case 11:M.textEmphasis=2;break;case 12:M.textEmphasis=3;break;case 13:M.textEmphasis=4;break;case 14:M.textEmphasis=5}return new ZK(p,q,I,B,H.textContent||
"",S,M)},f1S=function(p,q,B,S,I){var O=g.YW(),n=O?g.dF("DIV"):g.dF("RUBY"),H=g.dF("SPAN");
H.textContent=p;n.appendChild(H);p=O?g.dF("DIV"):g.dF("RP");p.textContent=q;n.appendChild(p);q=O?g.dF("DIV"):g.dF("RT");q.textContent=B;n.appendChild(q);B=I.KK;if(B===10||B===11||B===12||B===13||B===14)if(g.IN(q,"text-emphasis-style","filled circle"),g.IN(q,"text-emphasis-color","currentcolor"),g.IN(q,"webkit-text-emphasis","filled circle"),I.KK===11||I.KK===13)g.IN(q,"webkit-text-emphasis-position","under left"),g.IN(q,"text-emphasis-position","under left");B=!0;if(I.KK===4||I.KK===7||I.KK===12||
I.KK===14)g.IN(n,"ruby-position","over"),g.IN(n,"-webkit-ruby-position","before");else if(I.KK===5||I.KK===6||I.KK===11||I.KK===13)g.IN(n,"ruby-position","under"),g.IN(n,"-webkit-ruby-position","after"),B=!1;I=O?g.dF("DIV"):g.dF("RP");I.textContent=S;n.appendChild(I);O&&(S=B,g.IN(n,{display:"inline-block",position:"relative"}),O=n.firstElementChild.nextElementSibling,g.IN(O,"display","none"),O=O.nextElementSibling,g.IN(O,{"font-size":"0.5em","line-height":"1.2em","text-align":"center",position:"absolute",
left:"50%",transform:"translateX(-50%)",width:"400%"}),g.IN(n.lastElementChild,"display","none"),S?(g.IN(n,"padding-top","0.6em"),g.IN(O,"top","0")):(g.IN(n,"padding-bottom","0.6em"),g.IN(O,"bottom","0")));return n},ii=function(){g.y.apply(this,arguments)},Qx=function(p,q,B,S,I){g.hK.call(this,p,p+q,{priority:B,
namespace:"captions"});this.id=S;this.params=I;this.W=[]},q9X=function(p){var q="_"+Cr++;
return new Qx(0,0x8000000000000,0,q,p)},JX=function(p){ii.call(this);
this.j=p;this.pens={};this.T={};this.hU={};this.N="_"+Cr++;this.X={};this.Z=this.W=null;this.C=!0},bi=function(p,q){p=p.getAttribute(q);
if(p!=null)return Number(p)},Fc=function(p,q){p=p.getAttribute(q);
if(p!=null)return p==="1"},d6=function(p,q){p=bi(p,q);
return p!==void 0?p:null},DK=function(p,q){p=p.getAttribute(q);
if(p!=null)return $g.test(p),p},Bqx=function(p,q){var B={},S=q.getAttribute("ws");
Object.assign(B,S?p.hU[S]:p.j);p=d6(q,"mh");p!=null&&(B.Be=p);p=d6(q,"ju");p!=null&&(B.textAlign=p);p=d6(q,"pd");p!=null&&(B.B0=p);p=d6(q,"sd");p!=null&&(B.dJ=p);p=DK(q,"wfc");p!=null&&(B.windowColor=p);q=bi(q,"wfo");q!==void 0&&(B.windowOpacity=q/255);return B},S9p=function(p,q){var B={},S=q.getAttribute("wp");
S&&Object.assign(B,p.T[S]);p=d6(q,"ap");p!=null&&(B.nj=p);p=bi(q,"cc");p!=null&&(B.wN=p);p=bi(q,"ah");p!=null&&(B.Gz=p);p=bi(q,"rc");p!=null&&(B.J6=p);q=bi(q,"av");q!=null&&(B.QC=q);return B},I8l=function(p,q,B,S){var I={};
Object.assign(I,S9p(p,q));Object.assign(I,Bqx(p,q));S?g.RQ(I,p.j)?(S=p.N,I=p.j):S="_"+Cr++:S=q.getAttribute("id")||"_"+Cr++;p=bi(q,"t")+B;q=bi(q,"d")||0x8000000000000;if(I.B0===2||I.B0===3)B=I.J6,I.J6=I.wN,I.wN=B;return new Qx(p,q,0,S,I)},aC=function(p){ii.call(this);
this.C=p;this.W=new Map;this.j=new Map;this.N=new Map;this.Z=new Map},Lr=function(p){p=g.qw(Math.round(p),0,16777215).toString(16).toUpperCase();
return"#000000".substring(0,7-p.length)+p},OnI=function(p,q,B,S,I){S===0&&(S=0x8000000000000);
var O={};q.wpWinPosId&&Object.assign(O,p.j.get(q.wpWinPosId));q.wsWinStyleId&&Object.assign(O,p.N.get(q.wsWinStyleId));p=q.rcRowCount;p!==void 0&&(O.J6=p);q=q.ccColCount;q!==void 0&&(O.wN=q);if(O.B0===2||O.B0===3)q=O.J6,O.J6=O.wN,O.wN=q;return new Qx(B,S,0,I,O)},RC=function(p,q,B){g.kD.call(this,p);
this.videoData=q;this.audioTrack=B;this.N=q.Rp},vM=function(p,q,B,S,I,O,n,H,M,c){Ml.call(this,p,q,B,S,I,O,n,H,M,c);
this.type=1},Xc=function(p,q,B){this.trackData=p;
this.C=B;this.version=this.N=this.K=this.byteOffset=0;this.Z=[];this.W=new DataView(this.trackData)},xg=function(p){var q=p.byteOffset;
p.byteOffset+=1;return p.W.getUint8(q)},TV=function(p){var q=p.byteOffset;
p.byteOffset+=4;return p.W.getUint32(q)},zV=function(p,q){ii.call(this);
this.Z=p;this.j=q;this.track=this.j.languageName==="CC3"?4:0;this.W=new vBv;this.W.Z=1<<this.track},n6j=function(p){if(typeof p==="string")return!1;
p=new Xc(p,8,0);return o6l(p)},o6l=function(p){if(!(p.byteOffset<p.W.byteLength)||TV(p)!==1380139777)return!1;
p.version=xg(p);if(p.version>1)return!1;xg(p);xg(p);xg(p);return!0},Vx=function(p,q,B,S,I,O,n,H,M,c){Ml.call(this,p,q,B,S,I,O,n,H,M,c);
var k=this;this.type=2;this.wz=[];this.Zy=this.T=this.Rg=0;this.M$=NaN;this.NE=0;this.t5=null;this.D3=new g.YN(this.eQ,433,this);this.N&&(c.createClientVe(this.N,this,167342),this.S(this.N,"click",function(){c.logClick(k.N)}),p=new g.Fn(this.element,!0),g.h(this,p),p.subscribe("hoverstart",function(){c.logVisibility(k.N,!0)},this));
g.o_(this.element,"ytp-caption-window-rollup");g.h(this,this.D3);g.IN(this.element,"overflow","hidden")},g6z=function(p,q){if(!q)return"";
p.K&&p.Z.params.dJ!==1&&(q*=-1);return"translate"+(p.K?"X":"Y")+"("+q+"px)"},wDC=function(p){p.wz=Array.from(p.element.getElementsByClassName("caption-visual-line"));
for(var q=p.Z.params.J6,B=0,S=0,I=p.wz.length-1;B<q&&I>-1;){var O=p.wz[I];S+=p.K?O.offsetWidth:O.offsetHeight;B++;I--}p.T=S;q=Math;B=q.max;isNaN(p.M$)&&((S=p.W.wN)?(I=g.dF("SPAN"),g.xa(I,"\u2013".repeat(S)),g.IN(I,$AI(p,p.W.iK)),p.j.appendChild(I),p.M$=I.offsetWidth,p.j.removeChild(I)):p.M$=0);S=p.j;p.Zy=B.call(q,p.M$,p.NE,(p.K?S.offsetHeight:S.offsetWidth)+1)},Hnx=function(p,q){wDC(p);
var B=p.wz.reduce(function(O,n){return(p.K?n.offsetWidth:n.offsetHeight)+O},0);
B=p.T-B;if(B!==p.Rg){var S=B>0&&p.Rg===0,I=B<p.Rg;q||isNaN(B)||S||!I||(g.o_(p.element,"ytp-rollup-mode"),p.S(p.element,"transitionend",p.eQ));g.IN(p.j,"transform",g6z(p,B));p.Rg=B}wDC(p)},M5C=function(p,q,B,S){var I=this;
this.U=p;this.K=q;this.logger=B;this.Om=S;this.Jb=[];this.Jq=[];this.W=null;this.Iv={EDV:function(){return I.W},
sB:function(){return I.Jb}};
p=g.fG(this.U.B().experiments,"html5_override_micro_discontinuities_threshold_ms");this.Z=p>0?p:10},kJC=function(p,q){p.W=function(B,S){if(B.info.K){var I=B;
if(p.Jq.length>0){for(I=p.Jq.shift();p.Jq.length>0;)I=g.dt(I,p.Jq.shift());I=g.dt(I,B)}if(I){B=I;try{var O=g.$p(B)*1E3}catch(c){O=B.info.startTime*1E3}try{var n=g.o$t(B)*1E3}catch(c){n=B.info.duration*1E3}if(O<0||n<0)O<0&&(O=B.info.startTime*1E3),n<0&&(n=B.info.duration*1E3);B.info.startTime=O/1E3;B.info.j=O/1E3;B.info.duration=n/1E3;B.info.X=n/1E3;O=p.D2(I);n=O.bd;O={formatId:O.formatId,startTimeMs:O.startTimeMs,durationMs:O.durationMs,lW:n,Lh:n};n=cmp(p.Jb,O.startTimeMs);var H=(B=n>=0?p.Jb[n]:null)?
B.startTimeMs+B.durationMs:0,M=O.startTimeMs+O.durationMs;!B||O.startTimeMs-H>p.Z?p.Jb.splice(n+1,0,O):(B.durationMs=Math.max(H,M)-B.startTimeMs,B.Lh=Math.max(B.Lh,O.Lh));S(p.Jb);O=g.FB(I);S=p.K;O=O.buffer.slice(O.byteOffset,O.byteLength+O.byteOffset);I=I.info.j;S.C?S.j==null?g.JD(S.logger,350058965,"Null loaded track meta data at captions data received"):q.g8(O,S.j,I*1E3):g.JD(S.logger,350058965,"Null Representation at captions data received")}else g.JD(p.logger,350058965,"Empty slice")}else p.Jq.push(B)};
p.U.addEventListener("sabrCaptionsDataLoaded",p.W)},cmp=function(p,q){p=g.cb(p,{startTimeMs:q},function(B,S){return B.startTimeMs-S.startTimeMs});
return p>=0?p:-p-2},yx=function(p,q){g.kD.call(this,q);
this.Z=p;this.U=q;this.logger=new g.Cs("caps");this.j=this.C=null;this.X=new M5C(this.U,this,this.logger,this.Z.Om)},rmQ=function(p,q){var B=[],S;
for(S in p.Z.W)if(p.Z.W.hasOwnProperty(S)){var I=p.Z.W[S];if(g.A9(I,q||null)){var O=I.info.id,n=O,H="."+O,M="",c="";if(I=I.info.captionTrack)O=I.languageCode,n=I.displayName,H=I.vssId,M=I.kind,c=I.id;B.push(new g.FO({id:S,languageCode:O,languageName:n,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:H,kind:M,captionId:c}))}}return B},AmI=function(p,q,B){var S=[],I;
for(I in p.Z.W)if(p.Z.W.hasOwnProperty(I)){var O=p.Z.W[I];if(g.A9(O,B||null)){var n=O.info.captionTrack;n&&n.languageCode===q&&S.push(O)}}return S.length?S[0]:null},WOQ=function(p,q){if(!g.afK(p)||p.W!=null&&g.tIK(q,p.W)&&p.W.W.rawcc!=null)return!1;
q=!!p.W&&p.W.isManifestless&&Object.values(p.W.W).some(function(B){return g.A9(B,"386")});
p=!!p.W&&!p.W.isManifestless&&g.eCt(p.W);return q||p},PUY=function(){ii.call(this)},eUz=function(p){var q=uyC.length;
if(p.byteLength<q)return!1;p=new Uint8Array(p,0,q);for(var B=0;B<q;B++)if(uyC[B]!==p[B])return!1;return!0},ZnC=function(p,q,B,S,I,O,n,H,M){switch(n.tagName){case "b":H.bold=!0;
break;case "i":H.italic=!0;break;case "u":H.underline=!0}for(var c=0;c<n.childNodes.length;c++){var k=n.childNodes[c];if(k.nodeType===3)k=new ZK(q,B,S,I.id,k.nodeValue,O||c>0,g.aQ(H)?void 0:H),M.push(k),I.W.push(k);else{var r={};Object.assign(r,H);ZnC(p,q,B,S,I,!0,k,r,M)}}},inl=function(p){var q=p.split(":");
p=0;q=g.L(q);for(var B=q.next();!B.done;B=q.next())p=p*60+Number(B.value);return p*1E3},QBx=function(p,q,B,S){S=Object.assign({Be:0},S);
return new Qx(p,q,B,"_"+Cr++,S)},Nl=function(p,q){g.y.call(this);
this.U=p;this.V=q;this.W=null;this.X$=this.U.E_();this.logger=new g.Cs("caps")},JmD=function(p,q,B){if(typeof q==="string"||n6j(q))return[{trackData:q,
Mx:B}];if(typeof q==="string"&&q.substring(0,6)==="WEBVTT"||typeof q!=="string"&&eUz(q))return[{trackData:q,Mx:B}];var S=new DataView(q);if(S.byteLength<=8||S.getUint32(4)!==1718909296)return[];var I=g.nug(S);if(p.X$&&I){var O=g.ftZ(I),n=g.pHc(I);I=I.EM;O&&I&&p.X$.nU(I,O,n)}p=g.J7(S,1835295092);if(!p||!p.length||!p[0].size)return[];O=[];for(n=0;n<p.length;n++)I=p[n],I=new Uint8Array(q,I.dataOffset,I.size-(I.dataOffset-I.offset)),I=g.ir(I),O.push({trackData:I,Mx:B+n*1E3});CUv(S,O,B);return O=O.filter(function(H){return!!H.trackData})},
CUv=function(p,q,B){var S=g.A7(p,0,1836476516),I=9E4;
S&&(I=g.W5(S)||9E4);S=0;for(var O=g.J7(p,1836019558),n=0;n<O.length;n++){var H=O[n];n<q.length&&(H=g.A7(p,H.dataOffset,1953653094))&&(H=g.A7(p,H.dataOffset,1952867444))&&(H=g.Q4(H)/I*1E3,n===0&&(S=H),q[n].Mx=H-S+B||B*n*1E3)}},bnv=function(p,q,B){p.W||(p.W=new PUY);
p=p.W.K(q,B);Math.random()<.01&&g.Rn(Error("Deprecated subtitles format in web player: WebVTT"));return p},FOI=function(p){var q={};
if(p=g.Do(p))q.lang=p,g.k_Y.test(p)&&(q.B0=1);return q},DhD=function(p){g.MD.call(this,p);
var q=this;this.U=p;this.sZ=[];this.wz={};this.zR={};this.X=!1;this.K="NONE";this.Z=this.hU=this.Zy=this.Yq=this.eh=null;this.NE={lA:function(){q.lA()},
g8:function(O,n,H,M){q.g8(O,n,H,M)}};
this.W=null;this.V=this.U.B();this.videoData=this.U.getVideoData();this.jN=this.U.Pd();this.N={iK:{}};this.C={iK:{}};g.oM(this.videoData)?this.K="OFFLINE":g.hZc(this.videoData,this.U)?this.K="HLS":WOQ(this.videoData,this.U)?this.K="SABR_LIVE":g.E4_(this.videoData,this.U)?this.K="LIVE":this.videoData.captionTracks.length?this.K="INNERTUBE":this.videoData.t5&&(this.K="TTS");this.yV=this.V.controlsType==="3";this.Lb=new Nl(this.U,this.V);this.M$=new g.k$(this);this.T=new g.t({J:"div",G:"ytp-caption-window-container",
Y:{id:"ytp-caption-window-container"}});this.Kb={top:0,right:0,bottom:0,left:0,width:1,height:1};var B=null,S=g.TA("yt-html5-player-modules::subtitlesModuleData");S&&(B=new g.d8(S));this.storage=B;var I;this.Z3=!((I=p.c6())==null||!I.Nd());this.j=dhl(this);this.q$=!this.j&&this.yV&&this.Z3&&(this.K==="LIVE"||this.K==="SABR_LIVE");g.h(this,this.Lb);this.j?this.Rg=this.GR=null:(this.GR=new g.jA(this.iC,void 0,this),g.h(this,this.GR),this.Rg=new g.YN(this.Ipg,2E3,this),g.h(this,this.Rg));g.h(this,this.M$);
g.hN(this.player,this.T.element,4);g.h(this,this.T);this.j||this.M$.S(p,"resize",this.oi);(this.D3=g.KM(this.V)&&!g.Qu()&&!this.U.isFullscreen()&&!this.j&&!this.q$)&&this.M$.S(p,"resize",this.IKq);this.M$.S(p,"onPlaybackAudioChange",this.Kdq);this.M$.S(p,g.EX("captions"),function(O){q.onCueRangeEnter(O)});
this.M$.S(p,g.Ka("captions"),function(O){q.onCueRangeExit(O)});
$hj(this,rRY()||{});this.player.xw("onCaptionsModuleAvailable");this.K==="HLS"&&this.j&&(p=this.U.c6().ov(),this.Z3&&this.M$.S(p.textTracks,"addtrack",this.IAg))},RUY=function(p){if(p.V.mX===1||p.videoData.Wv===1||g.Tu(p.videoData,"yt:cc")==="alwayson")return!0;
if(p.videoData.captionTracks.length)var q=p.getAudioTrack().Z;if(p.V.mX===2){if(g.gu(p.V))var B=a8v(p);else if(p.storage)try{B=p.storage.get("module-enabled")}catch(I){p.storage.remove("module-enabled")}else B=null;if(B!=null)return!!B}B=O_x(p.player.getAudioTrack(),g.gu(p.V));var S=g.Tu(p.videoData,"yt:cc");if(LOz(p)===void 0){if(B==="CAPTIONS_INITIAL_STATE_ON_RECOMMENDED")return S?S==="on":!0;if(B==="CAPTIONS_INITIAL_STATE_OFF_RECOMMENDED")return S==="on"}else return S==="on";return q==="ON"||g.Tu(p.videoData,
"yt:cc")==="on"},GV=function(p,q){if(p.W&&(q===void 0||!q)||!p.videoData.captionTracks.length)return!1;
p=p.getAudioTrack();return!!p.W||p.Z==="FORCED_ON"},LOz=function(p){var q=void 0,B=g.tH().wg(65);
if(g.gu(p.V)&&B!=null){if(a8v(p)!=null)return!1;q=!B}return q},tX=function(p,q){if(!p.Z)return null;
if(p.hU&&p.hU.j)return p.hU.j;q=v6S(p,q);q=g.Eq(p.Z.W,q);var B=null;if(oBx(p.V)){var S=p.U.isInline()?void 0:g.zb("yt-player-caption-sticky-language");for(var I=[S,p.videoData.captionsLanguagePreference,p.V.captionsLanguagePreference,g.Tu(p.videoData,"yt:cc_default_lang")],O=!1,n=0;n<I.length;n++){var H=I[n];if(H){O=!0;for(var M=0;M<q.length;M++)if(g.Do(q[M])===H)return q[M];for(M=0;M<q.length;M++)if(g.Do(q[M]).split("-")[0]===H.split("-")[0])return q[M]}}if(O&&p.Z&&(I=p.Z.N,I.length))for(I=g.L(I),
O=I.next();!O.done;O=I.next())if(O=O.value,O.languageCode===S){B=O;break}}else for(S=[p.videoData.captionsLanguagePreference,p.V.captionsLanguagePreference,g.Tu(p.videoData,"yt:cc_default_lang")],I=0;I<S.length;I++)for(O=0;O<q.length;O++)if(g.Do(q[O])===S[I])return q[O];S=null;p.hU&&p.hU.K&&(S=p.hU.K);S||(S=q.find(function(c){return c.isDefault})||null);
S||(S=q[0]||hX(p));S&&B&&g.Do(S).split("-")[0]!==B.languageCode.split("-")[0]&&(S=nBb(S,B));return S},hX=function(p){return p.hU&&p.hU.W},EC=function(p){var q=hX(p);
return!!q&&p.W===q},XDC=function(p,q){if(p.W){var B=p.U.c6().ov().textTracks,S=null;
p.K==="HLS"?S=p.W.getId():S=p.W.toString();for(var I=0;I<B.length;I++){var O=B[I];O.id===S&&(q?O.mode!=="showing"&&(O.mode="showing",O=p.W,p.M7(O,!!O,EC(p)?"g":p.X?"m":"s")):O.mode==="showing"&&(O.mode="disabled"))}}},li=function(p,q,B){p.loaded&&p.unload();
B!=null&&(p.X=B,p.X&&(g.gu(p.V)?Kr(p,!!q):UC(p,!!q)));q!==null||GV(p,!0)||p.M7(q,!!q,p.X?"m":"s");p.W=q;GV(p)&&(p.W=hX(p));var S;xhp(p,(S=p.W)!=null?S:void 0);p.load()},zUj=function(p,q){if(q instanceof Qx){var B=p.wz[q.id];
B&&B.Z!==q&&(B.dispose(),delete p.wz[q.id],B=null);B||(B=Tql(p,q))&&(p.wz[q.id]=B)}else B=q.windowId,p.zR[B]||(p.zR[B]=[]),p.zR[B].push(q)},Tql=function(p,q){var B=V5j(p);
if(!B)return null;var S=p.W?g.Do(p.W):null;S&&g.k_Y.test(S)&&(q.params.B0=1);var I=p.jN.getPlayerSize();S=I.height*p.Kb.height;I=I.width*p.Kb.width;p.V.playerStyle!=="google-live"||p.N.isDefault||Object.assign(q.params,p.N);switch(q.params.Be!=null?q.params.Be:q.W.length>1?1:0){case 1:return new vM(q,p.N,p.C,B.width,B.height,I,S,p.V.experiments,p.qF.bind(p),p.U);case 2:return new Vx(q,p.N,p.C,B.width,B.height,I,S,p.V.experiments,p.qF.bind(p),p.U);default:return new Ml(q,p.N,p.C,B.width,B.height,I,
S,p.V.experiments,p.qF.bind(p),p.U)}},$hj=function(p,q,B){B=B===void 0?!1:B;
var S=jB.iK;p.N={};Object.assign(p.N,jB);p.N.iK={};Object.assign(p.N.iK,S);p.C={iK:{}};var I=q.backgroundOverride?p.C:p.N,O=q.background||S.background;$g.test(O);I.iK.background=O;I=q.colorOverride?p.C:p.N;O=q.color||S.color;$g.test(O);I.iK.color=O;I=q.windowColorOverride?p.C:p.N;O=q.windowColor||jB.windowColor;$g.test(O);I.windowColor=O;I=q.backgroundOpacityOverride?p.C:p.N;O=q.backgroundOpacity;O==null&&(O=S.backgroundOpacity);I.iK.backgroundOpacity=O;I=q.fontSizeIncrementOverride?p.C:p.N;O=q.fontSizeIncrement;
O==null&&(O=S.fontSizeIncrement);I.iK.fontSizeIncrement=O;O=q.fontStyleOverride?p.C:p.N;I=q.fontStyle;I==null&&(I=S.bold&&S.italic?3:S.bold?1:S.italic?2:0);O=O.iK;switch(I){case 1:O.bold=!0;delete O.italic;break;case 2:delete O.bold;O.italic=!0;break;case 3:O.bold=!0;O.italic=!0;break;default:delete O.bold,delete O.italic}I=q.textOpacityOverride?p.C:p.N;O=q.textOpacity;O==null&&(O=S.textOpacity);I.iK.textOpacity=O;I=q.windowOpacityOverride?p.C:p.N;O=q.windowOpacity;O==null&&(O=jB.windowOpacity);I.windowOpacity=
O;I=q.charEdgeStyleOverride?p.C:p.N;O=q.charEdgeStyle;O==null&&(O=S.charEdgeStyle);I.iK.charEdgeStyle=O;I=q.fontFamilyOverride?p.C:p.N;O=q.fontFamily;O==null&&(O=S.fontFamily);I.iK.fontFamily=O;p.loaded&&p.oi();B&&g.Tb("yt-player-caption-display-settings",q,2592E3)},ymC=function(p,q){if(!p.Z)return{};
if(q){g.aQ(q)||p.n9(q.vss_id,"m");if(p.j&&p.K!=="HLS"||!g.LI(q))return;if(g.aQ(q)){li(p,null,!0);return}for(var B,S=g.Eq(p.Z.W,!0),I=0;I<S.length;I++){var O=S[I];O.languageCode!==q.languageCode||B&&(O.languageName!==q.languageName||(O.captionId||"")!==(q.captionId||"")||g.du(O)!==q.displayName)||(B=q.translationLanguage?nBb(O,q.translationLanguage):O)}p.nW(q.position);!B||B===p.W&&p.loaded||(q=g.aS(),S=g.Do(B),q.length&&S===q[q.length-1]||(q.push(S),g.Tb("yt-player-caption-language-preferences",q)),
oBx(p.V)&&!p.U.isInline()&&g.Tb("yt-player-caption-sticky-language",S,2592E3),li(p,B,!0))}else return p.loaded&&p.W&&!EC(p)?g.$r(p.W):{};return""},GJC=function(p,q,B){q&&!p.Zy?(q=q9X({B0:0,
lang:"fr"}),p.Zy=[q,new ZK(q.start,q.end-q.start,0,q.id,B!=null?B:"Aper\u00e7u des sous-titres")],p.player.PA(p.Zy)):!q&&p.Zy&&(Nqb(p,p.Zy),p.Zy=null)},Nqb=function(p,q){p.player.Iu(q);
q=g.L(q);for(var B=q.next();!B.done;B=q.next())g.fI(p.sZ,B.value);g6(p.GR)},xhp=function(p,q){p.V.D("html5_modify_caption_vss_logging")&&(p.videoData.Iw=q)},V5j=function(p){var q=p.jN.getVideoContentRect(!0).height,B=p.jN.getVideoContentRect(!0).width;
if(!q||!B)return null;q*=p.Kb.height;B*=p.Kb.width;return{width:B,height:q}},UC=function(p,q){if(p.storage)try{p.storage.set("module-enabled",q)}catch(B){}},Kr=function(p,q){p.U.isInline()||g.Tb("yt-player-sticky-caption",q,2592E3)},a8v=function(p){if(!p.U.isInline())return g.zb("yt-player-sticky-caption")},dhl=function(p){var q,B=!((q=p.U.c6())==null||!q.JY());
return p.K==="HLS"&&B?!0:p.yV&&B&&p.K!=="LIVE"&&p.K!=="SABR_LIVE"},v6S=function(p,q){if(p.K==="HLS")return!1;
g.YI(p.videoData)&&(q=!0);q||(q=p.K==="TTS"?!1:p.K==="INNERTUBE"?!1:!0);return q||p.V.D("web_deprecate_always_includes_asr_setting")&&g.gu(p.V)?!0:!!g.tH().wg(66)};
g.le.prototype.nU=g.VD(68,function(p,q,B){this.Z.set(p,{Fs:q,ib:B})});
g.jq.prototype.nU=g.VD(67,function(p,q,B){this.Zy.nU(p,q,B)});
g.kD.prototype.sW=g.VD(66,function(){return!1});
g.kD.prototype.uS=g.VD(65,function(){});
g.rX.prototype.uS=g.VD(64,function(p,q,B){var S=this;this.Xg();q=this.BR(p,q);var I=this.gz.B().D("html5_report_captions_ctmp_qoe"),O=(0,g.FA)();this.HC();I1Y(this,q,{format:"RAW",onSuccess:function(n){S.Z=null;if(I){var H=(n.responseText.length/1024).toFixed(),M=(0,g.FA)();S.videoData.xq("capresp",{ms:M-O,kb:H})}B.g8(n.responseText,p)},
onError:I?function(n){var H;n=(H=n==null?void 0:n.status)!=null?H:0;S.videoData.xq("capfail",{status:n})}:void 0,
withCredentials:!0})});
g.Wi.prototype.uS=g.VD(63,function(p,q,B){var S=this;this.Xg();q=this.BR(p,q);this.HC();this.Z=g.aj(q,{format:"RAW",onSuccess:function(I){S.Z=null;B.g8(I.responseText,p)},
withCredentials:!0})});
g.Xn.prototype.FB=g.VD(62,function(){for(var p=g.ea(document,"track",void 0,this.W),q=0;q<p.length;q++)g.v8(p[q])});
g.be.prototype.FB=g.VD(61,function(){for(var p=g.ea(document,"track",void 0,this.W),q=0;q<p.length;q++)g.v8(p[q])});
g.$G.prototype.FB=g.VD(60,function(){this.mediaElement.FB()});
g.Xn.prototype.Nd=g.VD(59,function(){return!(!this.W.textTracks||!this.W.textTracks.addEventListener)});
g.be.prototype.Nd=g.VD(58,function(){return!(!this.W.textTracks||!this.W.textTracks.addEventListener)});
g.$G.prototype.Nd=g.VD(57,function(){return this.mediaElement.Nd()});
g.Xn.prototype.JY=g.VD(56,function(){return!!this.W.textTracks});
g.be.prototype.JY=g.VD(55,function(){return!!this.W.textTracks});
g.$G.prototype.JY=g.VD(54,function(){return this.mediaElement.JY()});
g.Xn.prototype.nX=g.VD(53,function(p){for(var q=0;q<p.length;q++)this.W.appendChild(p[q])});
g.be.prototype.nX=g.VD(52,function(p){for(var q=0;q<p.length;q++)this.W.appendChild(p[q])});
g.$G.prototype.nX=g.VD(51,function(p){this.mediaElement.nX(p)});
g.XI.prototype.yS=g.VD(39,function(p){return g.Wm(this.app,{playerType:void 0}).yS(p)});
g.jW.prototype.yS=g.VD(38,function(p){return this.Wd.ZG.yS(p)});
g.e8.prototype.yS=g.VD(37,function(p){return this.Rc().some(function(q){return q.namespace===p})});
g.xG.prototype.yS=g.VD(36,function(){return!1});
g.XI.prototype.n9=g.VD(34,function(p,q){this.app.QV().n9(p,q)});
g.jW.prototype.n9=g.VD(33,function(p,q){this.Wd.n9(p,q)});
g.$t.prototype.n9=g.VD(32,function(p,q){p=[p,q];g.dL(this,g.Ld(this.provider),"cfi",p)});
g.P4.prototype.n9=g.VD(31,function(p,q){this.qoe&&this.qoe.n9(p,q)});
g.hJ.prototype.n9=g.VD(30,function(p,q){this.pN.n9(p,q)});
g.xG.prototype.n9=g.VD(29,function(){});
g.XI.prototype.M7=g.VD(28,function(p,q,B){this.app.QV().M7(p,q,B)});
g.jW.prototype.M7=g.VD(27,function(p,q,B){this.Wd.M7(p,q,B)});
g.$t.prototype.M7=g.VD(26,function(p,q,B){if(this.GR!==p||this.t5!==q)q=q==="rawcc"?"":q,B=[p,q,this.GR,B],g.dL(this,g.Ld(this.provider),"cfs",B),this.GR=p,this.t5=q});
g.P4.prototype.M7=g.VD(25,function(p,q,B){this.qoe&&this.qoe.M7(p,q,B)});
g.hJ.prototype.M7=g.VD(24,function(p,q,B){this.pN.M7(p,q,B)});
g.xG.prototype.M7=g.VD(23,function(){});
g.B5.prototype.K7=g.VD(3,function(p){return(p=this.hJ(p))?p.W:0});
g.Rh.prototype.K7=g.VD(2,function(){return 0});
var MRI=/#(.)(.)(.)/,H_z=/^#(?:[0-9a-f]{3}){1,2}$/i,Z_b={aa:"Afar",ab:"Abkhazian",ace:"Acehnese",ach:"Acoli",ada:"Adangme",ady:"Adyghe",ae:"Avestan",aeb:"Tunisian Arabic",af:"Afrikaans",afh:"Afrihili",agq:"Aghem",ain:"Ainu",ak:"Akan",akk:"Akkadian",akz:"Alabama",ale:"Aleut",aln:"Gheg Albanian",alt:"Southern Altai",am:"Amharic",an:"Aragonese",ang:"Old English",anp:"Angika",ar:"Arabic",ar_001:"Arabic (world)",arc:"Aramaic",arn:"Mapuche",aro:"Araona",arp:"Arapaho",arq:"Algerian Arabic",ars:"Najdi Arabic",
arw:"Arawak",ary:"Moroccan Arabic",arz:"Egyptian Arabic",as:"Assamese",asa:"Asu",ase:"American Sign Language",ast:"Asturian",av:"Avaric",avk:"Kotava",awa:"Awadhi",ay:"Aymara",az:"Azerbaijani",az_Cyrl:"Azerbaijani (Cyrillic)",az_Latn:"Azerbaijani (Latin)",ba:"Bashkir",bal:"Baluchi",ban:"Balinese",bar:"Bavarian",bas:"Basaa",bax:"Bamun",bbc:"Batak Toba",bbj:"Ghomala",be:"Belarusian",bej:"Beja",bem:"Bemba",bew:"Betawi",bez:"Bena",bfd:"Bafut",bfq:"Badaga",bg:"Bulgarian",bgc:"Haryanvi",bgn:"Western Balochi",
bho:"Bhojpuri",bi:"Bislama",bik:"Bikol",bin:"Bini",bjn:"Banjar",bkm:"Kom",bla:"Siksik\u00e1",blo:"Anii",bm:"Bambara",bn:"Bangla",bo:"Tibetan",bpy:"Bishnupriya",bqi:"Bakhtiari",br:"Breton",bra:"Braj",brh:"Brahui",brx:"Bodo",bs:"Bosnian",bs_Cyrl:"Bosnian (Cyrillic)",bs_Latn:"Bosnian (Latin)",bss:"Akoose",bua:"Buriat",bug:"Buginese",bum:"Bulu",byn:"Blin",byv:"Medumba",ca:"Catalan",cad:"Caddo",car:"Carib",cay:"Cayuga",cch:"Atsam",ccp:"Chakma",ce:"Chechen",ceb:"Cebuano",cgg:"Chiga",ch:"Chamorro",chb:"Chibcha",
chg:"Chagatai",chk:"Chuukese",chm:"Mari",chn:"Chinook Jargon",cho:"Choctaw",chp:"Chipewyan",chr:"Cherokee",chy:"Cheyenne",ckb:"Central Kurdish",co:"Corsican",cop:"Coptic",cps:"Capiznon",cr:"Cree",crh:"Crimean Tatar",cs:"Czech",csb:"Kashubian",csw:"Swampy Cree",cu:"Church Slavic",cv:"Chuvash",cy:"Welsh",da:"Danish",dak:"Dakota",dar:"Dargwa",dav:"Taita",de:"German",de_AT:"German (Austria)",de_CH:"German (Switzerland)",del:"Delaware",den:"Slave",dgr:"Dogrib",din:"Dinka",dje:"Zarma",doi:"Dogri",dsb:"Lower Sorbian",
dua:"Duala",dum:"Middle Dutch",dv:"Divehi",dyo:"Jola-Fonyi",dyu:"Dyula",dz:"Dzongkha",dzg:"Dazaga",ebu:"Embu",ee:"Ewe",efi:"Efik",egy:"Ancient Egyptian",eka:"Ekajuk",el:"Greek",elx:"Elamite",en:"English",en_AU:"English (Australia)",en_CA:"English (Canada)",en_GB:"English (United Kingdom)",en_US:"English (United States)",enm:"Middle English",eo:"Esperanto",es:"Spanish",es_419:"Spanish (Latin America)",es_ES:"Spanish (Spain)",es_MX:"Spanish (Mexico)",et:"Estonian",eu:"Basque",ewo:"Ewondo",fa:"Persian",
fa_AF:"Persian (Afghanistan)",fan:"Fang",fat:"Fanti",ff:"Fula",ff_Adlm:"Fula (Adlam)",ff_Latn:"Fula (Latin)",fi:"Finnish",fil:"Filipino",fj:"Fijian",fo:"Faroese",fon:"Fon",fr:"French",fr_CA:"French (Canada)",fr_CH:"French (Switzerland)",frm:"Middle French",fro:"Old French",frr:"Northern Frisian",frs:"Eastern Frisian",fur:"Friulian",fy:"Western Frisian",ga:"Irish",gaa:"Ga",gay:"Gayo",gba:"Gbaya",gd:"Scottish Gaelic",gez:"Geez",gil:"Gilbertese",gl:"Galician",gmh:"Middle High German",gn:"Guarani",goh:"Old High German",
gon:"Gondi",gor:"Gorontalo",got:"Gothic",grb:"Grebo",grc:"Ancient Greek",gsw:"Swiss German",gu:"Gujarati",guz:"Gusii",gv:"Manx",gwi:"Gwich\u02bcin",ha:"Hausa",hai:"Haida",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hi_Latn:"Hindi (Latin)",hil:"Hiligaynon",hit:"Hittite",hmn:"Hmong",ho:"Hiri Motu",hr:"Croatian",hsb:"Upper Sorbian",ht:"Haitian Creole",hu:"Hungarian",hup:"Hupa",hy:"Armenian",hz:"Herero",ia:"Interlingua",iba:"Iban",ibb:"Ibibio",id:"Indonesian",ie:"Interlingue",ig:"Igbo",ii:"Sichuan Yi",ik:"Inupiaq",
ilo:"Iloko","in":"Indonesian",inh:"Ingush",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",iw:"Hebrew",ja:"Japanese",jbo:"Lojban",jgo:"Ngomba",jmc:"Machame",jpr:"Judeo-Persian",jrb:"Judeo-Arabic",jv:"Javanese",ka:"Georgian",kaa:"Kara-Kalpak",kab:"Kabyle",kac:"Kachin",kaj:"Jju",kam:"Kamba",kaw:"Kawi",kbd:"Kabardian",kbl:"Kanembu",kcg:"Tyap",kde:"Makonde",kea:"Kabuverdianu",kfo:"Koro",kg:"Kongo",kgp:"Kaingang",kha:"Khasi",kho:"Khotanese",khq:"Koyra Chiini",ki:"Kikuyu",kj:"Kuanyama",kk:"Kazakh",
kk_Arab:"Kazakh (Arabic)",kk_Cyrl:"Kazakh (Cyrillic)",kkj:"Kako",kl:"Kalaallisut",kln:"Kalenjin",km:"Khmer",kmb:"Kimbundu",kn:"Kannada",ko:"Korean",kok:"Konkani",kok_Deva:"Konkani (Devanagari)",kok_Latn:"Konkani (Latin)",kos:"Kosraean",kpe:"Kpelle",kr:"Kanuri",krc:"Karachay-Balkar",krl:"Karelian",kru:"Kurukh",ks:"Kashmiri",ks_Arab:"Kashmiri (Arabic)",ks_Deva:"Kashmiri (Devanagari)",ksb:"Shambala",ksf:"Bafia",ksh:"Colognian",ku:"Kurdish",ku_Latn:"Kurdish (Latin)",kum:"Kumyk",kut:"Kutenai",kv:"Komi",
kw:"Cornish",kxv:"Kuvi",kxv_Deva:"Kuvi (Devanagari)",kxv_Latn:"Kuvi (Latin)",kxv_Orya:"Kuvi (Odia)",kxv_Telu:"Kuvi (Telugu)",ky:"Kyrgyz",la:"Latin",lad:"Ladino",lag:"Langi",lah:"Western Panjabi",lam:"Lamba",lb:"Luxembourgish",lez:"Lezghian",lg:"Ganda",li:"Limburgish",lij:"Ligurian",lkt:"Lakota",lmo:"Lombard",ln:"Lingala",lo:"Lao",lol:"Mongo",loz:"Lozi",lrc:"Northern Luri",lt:"Lithuanian",lu:"Luba-Katanga",lua:"Luba-Lulua",lui:"Luiseno",lun:"Lunda",luo:"Luo",lus:"Mizo",luy:"Luyia",lv:"Latvian",mad:"Madurese",
maf:"Mafa",mag:"Magahi",mai:"Maithili",mak:"Makasar",man:"Mandingo",mas:"Masai",mde:"Maba",mdf:"Moksha",mdr:"Mandar",men:"Mende",mer:"Meru",mfe:"Morisyen",mg:"Malagasy",mga:"Middle Irish",mgh:"Makhuwa-Meetto",mgo:"Meta\u02bc",mh:"Marshallese",mi:"M\u0101ori",mic:"Mi'kmaw",min:"Minangkabau",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mnc:"Manchu",mni:"Manipuri",mni_Beng:"Manipuri (Bangla)",mo:"Romanian",moh:"Mohawk",mos:"Mossi",mr:"Marathi",ms:"Malay",mt:"Maltese",mua:"Mundang",mul:"Multiple languages",
mus:"Muscogee",mwl:"Mirandese",mwr:"Marwari",my:"Burmese",mye:"Myene",myv:"Erzya",mzn:"Mazanderani",na:"Nauru",nap:"Neapolitan",naq:"Nama",nb:"Norwegian Bokm\u00e5l",nd:"North Ndebele",nds:"Low German",nds_NL:"Low German (Netherlands)",ne:"Nepali","new":"Newari",ng:"Ndonga",nia:"Nias",niu:"Niuean",nl:"Dutch",nl_BE:"Dutch (Belgium)",nmg:"Kwasio",nn:"Norwegian Nynorsk",nnh:"Ngiemboon",no:"Norwegian",nog:"Nogai",non:"Old Norse",nqo:"N\u2019Ko",nr:"South Ndebele",nso:"Northern Sotho",nus:"Nuer",nv:"Navajo",
nwc:"Classical Newari",ny:"Nyanja",nym:"Nyamwezi",nyn:"Nyankole",nyo:"Nyoro",nzi:"Nzima",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Odia",os:"Ossetic",osa:"Osage",ota:"Ottoman Turkish",pa:"Punjabi",pa_Arab:"Punjabi (Arabic)",pa_Guru:"Punjabi (Gurmukhi)",pag:"Pangasinan",pal:"Pahlavi",pam:"Pampanga",pap:"Papiamento",pau:"Palauan",pcm:"Nigerian Pidgin",peo:"Old Persian",phn:"Phoenician",pi:"Pali",pl:"Polish",pms:"Piedmontese",pon:"Pohnpeian",prg:"Prussian",pro:"Old Proven\u00e7al",ps:"Pashto",pt:"Portuguese",
pt_BR:"Portuguese (Brazil)",pt_PT:"Portuguese (Portugal)",qu:"Quechua",raj:"Rajasthani",rap:"Rapanui",rar:"Rarotongan",rm:"Romansh",rn:"Rundi",ro:"Romanian",ro_MD:"Romanian (Moldova)",rof:"Rombo",rom:"Romany",ru:"Russian",rup:"Aromanian",rw:"Kinyarwanda",rwk:"Rwa",sa:"Sanskrit",sad:"Sandawe",sah:"Yakut",sam:"Samaritan Aramaic",saq:"Samburu",sas:"Sasak",sat:"Santali",sat_Olck:"Santali (Ol Chiki)",sba:"Ngambay",sbp:"Sangu",sc:"Sardinian",scn:"Sicilian",sco:"Scots",sd:"Sindhi",sd_Arab:"Sindhi (Arabic)",
sd_Deva:"Sindhi (Devanagari)",se:"Northern Sami",see:"Seneca",seh:"Sena",sel:"Selkup",ses:"Koyraboro Senni",sg:"Sango",sga:"Old Irish",sh:"Serbo-Croatian",shi:"Tachelhit",shi_Latn:"Tachelhit (Latin)",shi_Tfng:"Tachelhit (Tifinagh)",shn:"Shan",shu:"Chadian Arabic",si:"Sinhala",sid:"Sidamo",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sma:"Southern Sami",smj:"Lule Sami",smn:"Inari Sami",sms:"Skolt Sami",sn:"Shona",snk:"Soninke",so:"Somali",sog:"Sogdien",sq:"Albanian",sr:"Serbian",sr_Cyrl:"Serbian (Cyrillic)",
sr_Latn:"Serbian (Latin)",srn:"Sranan Tongo",srr:"Serer",ss:"Swati",ssy:"Saho",st:"Southern Sotho",su:"Sundanese",su_Latn:"Sundanese (Latin)",suk:"Sukuma",sus:"Susu",sux:"Sumerian",sv:"Swedish",sw:"Swahili",sw_CD:"Swahili (Congo - Kinshasa)",swb:"Comorian",syc:"Classical Syriac",syr:"Syriac",szl:"Silesian",ta:"Tamil",te:"Telugu",tem:"Timne",teo:"Teso",ter:"Tereno",tet:"Tetum",tg:"Tajik",th:"Thai",ti:"Tigrinya",tig:"Tigre",tiv:"Tiv",tk:"Turkmen",tkl:"Tokelauan",tl:"Tagalog",tlh:"Klingon",tli:"Tlingit",
tmh:"Tamashek",tn:"Tswana",to:"Tongan",tog:"Nyasa Tonga",tok:"Toki Pona",tpi:"Tok Pisin",tr:"Turkish",trv:"Taroko",ts:"Tsonga",tsi:"Tsimshian",tt:"Tatar",tum:"Tumbuka",tvl:"Tuvalu",tw:"Twi",twq:"Tasawaq",ty:"Tahitian",tyv:"Tuvinian",tzm:"Central Atlas Tamazight",udm:"Udmurt",ug:"Uyghur",uga:"Ugaritic",uk:"Ukrainian",umb:"Umbundu",ur:"Urdu",uz:"Uzbek",uz_Arab:"Uzbek (Arabic)",uz_Cyrl:"Uzbek (Cyrillic)",uz_Latn:"Uzbek (Latin)",vai:"Vai",vai_Latn:"Vai (Latin)",vai_Vaii:"Vai (Vai)",ve:"Venda",vec:"Venetian",
vi:"Vietnamese",vmw:"Makhuwa",vo:"Volap\u00fck",vot:"Votic",vun:"Vunjo",wa:"Walloon",wae:"Walser",wal:"Wolaytta",war:"Waray",was:"Washo",wo:"Wolof",xal:"Kalmyk",xh:"Xhosa",xnr:"Kangri",xog:"Soga",yao:"Yao",yap:"Yapese",yav:"Yangben",ybb:"Yemba",yi:"Yiddish",yo:"Yoruba",yrl:"Nheengatu",yue:"Cantonese",yue_Hans:"Cantonese (Simplified)",yue_Hant:"Cantonese (Traditional)",za:"Zhuang",zap:"Zapotec",zbl:"Blissymbols",zen:"Zenaga",zgh:"Standard Moroccan Tamazight",zh:"Chinese",zh_Hans:"Chinese (Simplified)",
zh_Hant:"Chinese (Traditional)",zh_TW:"Chinese (Taiwan)",zu:"Zulu",zun:"Zuni",zxx:"No linguistic content",zza:"Zaza"},hUC={en:"English"};g.Z(ARQ,g.kD);
ARQ.prototype.Qp=function(p){var q=this.gz.c6();if(q&&q.ov()){q=q.ov().textTracks;q=g.L(q);for(var B=q.next();!B.done;B=q.next())B=B.value,B.kind==="subtitles"&&!this.Z.has(B.language)&&B.language&&(g.ci(this.W,new g.FO({languageCode:B.language,languageName:B.language,kind:B.kind,id:B.id,displayName:hUC[B.label]||B.label,vss_id:"."+B.language})),this.Z.add(B.language))}g.Eq(this.W).length>0&&p.lA()};
w6.prototype.contains=function(p){p=g.cb(this.segments,p);return p>=0||p<0&&(-p-1)%2===1};
w6.prototype.length=function(){return this.segments.length/2};
g.Z(P8l,g.y);g.u=P8l.prototype;g.u.Fg=function(){g.y.prototype.Fg.call(this);this.Z&&this.Z.cancel()};
g.u.Zu=function(){this.seekTo(this.player.getCurrentTime())};
g.u.seekTo=function(p){p-=this.player.QW();var q=this.W;this.W=g.El(this.N$.YD(p).WL);q!==this.W&&this.hU&&this.hU()};
g.u.reset=function(){this.j=new w6;this.C=-1;this.Z&&(this.Z.cancel(),this.Z=null)};
g.u.JN=function(){this.Xg();var p;if(p=this.W!=null)p=this.W,p=p.N$.Q5(p);if(p&&!this.Z&&!(this.W&&this.W.startTime-this.player.getCurrentTime()>30)){p=this.W;p=p.N$.SK(p);var q=p.WL[0],B;if((B=this.player.getVideoData())==null?0:B.enableServerStitchedDai)if(B=this.player.E_()){var S=q.N$.info.id,I=q.bd,O=p.WL[0].j;if(this.policy.Rg){if(B=g.eVt(B,O,I,S,3))p.j=B}else if(S=B.yG(O,I,S,3))if(O=2,B.Pc.has(I)?O=0:g.GLK(B,I)&&(O=1),B=O,B===0)S&&(p.W=new g.iq(S));else if(B===2){this.X.start();uNp(this)&&
this.seekTo(this.player.getCurrentTime());return}}q.N$.index.Dk(q.bd)?(this.j.contains(p.WL[0].bd)||e5b(this,p),this.W=g.El(p.WL)):uNp(this)&&this.seekTo(this.player.getCurrentTime())}this.X.start()};
g.Z(HM,g.kD);g.u=HM.prototype;g.u.uS=function(p,q,B){var S=this;this.HC();q=QNb(this,p.getId());q||(q=p.languageCode,q=this.Z.isManifestless?C8p(this,q,"386"):C8p(this,q));if(q){var I=(q.index.K7(q.index.F5())-q.index.getStartTime(q.index.F5()))*1E3,O=new g.rV3(this.U.B());this.j=new P8l(O,this.U,q,function(n,H){B.g8(n,p,H,I)},this.X||g.VT(q.info),function(){S.j&&S.j.reset();
S.C=!0})}};
g.u.sW=function(){var p=this.C;this.C=!1;return p};
g.u.Qp=function(p){var q=this.U.B().D("html5_fallback_if_rawcc_missing");var B=this.Z.W.rawcc!=null;if(!this.X||!B&&q)q=this.Z.isManifestless?i_p(this,"386"):i_p(this);else{if(!B){g.JD(this.logger,386248249,"rawcc used but unavailable");return}q=[new g.FO({id:"rawcc",languageCode:"rawcc",languageName:"CC1",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"}),new g.FO({id:"rawcc",languageCode:"rawcc",languageName:"CC3",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"})]}q=g.L(q);
for(B=q.next();!B.done;B=q.next())g.ci(this.W,B.value);p.lA()};
g.u.HC=function(){this.j&&(this.j.dispose(),this.j=null)};
g.u.BR=function(){return""};
var $g=/^#(?:[0-9a-f]{3}){1,2}$/i;var F7C=["left","right","center","justify"];g.Z(Ml,g.t);g.u=Ml.prototype;g.u.u_=function(p,q){this.yV=p;this.Lb=q;var B=g.rp(this.element,this.element.parentElement);this.eh=p-B.x;this.Z3=q-B.y};
g.u.fp=function(p,q){if(p!==this.yV||q!==this.Lb){g.Or(this.element,"ytp-dragging")||g.o_(this.element,"ytp-dragging");var B=g.W6(this.element);p=p-this.eh-.02*this.lR;var S=q-this.Z3-.02*this.W6,I=(p+B.width/2)/this.maxWidth*3;I=Math.floor(g.qw(I,0,2));var O=(S+B.height/2)/this.maxHeight*3;O=Math.floor(g.qw(O,0,2));q=I+O*3;p=(p+I/2*B.width)/this.maxWidth;p=g.qw(p,0,1)*100;B=(S+O/2*B.height)/this.maxHeight;B=g.qw(B,0,1)*100;this.Z.params.nj=q;this.Z.params.QC=B;this.Z.params.Gz=p;this.Z.params.isDefault=
!1;this.W.nj=q;this.W.QC=B;this.W.Gz=p;this.W.isDefault=!1;this.Kb.nj=q;this.Kb.QC=B;this.Kb.Gz=p;this.Kb.isDefault=!1;this.Go()}};
g.u.y4=function(){g.g8(this.element,"ytp-dragging")};
g.u.Go=function(){this.OR(this.C)};
g.u.OR=function(p){var q=this.jN?0:Math.min(this.Eh(),this.maxWidth),B=this.Mb(),S=this.jN;if(S){var I=getComputedStyle(this.j.parentNode);I=cM(I.borderLeftWidth)+cM(I.borderRightWidth)+cM(I.paddingLeft)+cM(I.paddingRight)}else I=0;var O=I;I="";this.Z.params.B0===3&&(I="rotate(180deg)");var n=S?"calc(96% - "+O+"px)":"96%";g.IN(this.element,{top:0,left:0,right:"",bottom:"",width:q?q+"px":"",height:B?B+"px":"","max-width":n,"max-height":n,margin:"",transform:""});this.wd(p);I={transform:I,top:"",left:"",
width:q?q+"px":"",height:B?B+"px":"","max-width":"","max-height":""};var H=this.W.Gz*.96+2;n=this.W.nj;switch(n){case 0:case 3:case 6:(S=this.W.iK.fontSizeIncrement)&&S>0&&this.W.B0!==2&&this.W.B0!==3&&(H=Math.max(H/(1+S*2),2));I.left=H+"%";break;case 1:case 4:case 7:I.left=H+"%";H=this.j.offsetWidth;q||H?(q=q||H+1,I.width=q+"px",I["margin-left"]=S?q/-2-O/2+"px":q/-2+"px"):I.transform+=" translateX(-50%)";break;case 2:case 5:case 8:I.right=100-H+"%"}S=this.W.QC*.96+2;switch(n){case 0:case 1:case 2:I.top=
S+"%";break;case 3:case 4:case 5:I.top=S+"%";(B=B||this.element.clientHeight)?(I.height=B+"px",I["margin-top"]=B/-2+"px"):I.transform+=" translateY(-50%)";break;case 6:case 7:case 8:I.bottom=100-S+"%"}g.IN(this.element,I);if(this.N){B=this.j.offsetHeight;S=1;for(q=0;q<p.length;q++)I=p[q],typeof I.text==="string"&&(S+=I.text.split("\n").length-1,I.append||q===0||S++);B/=S;this.N.style.height=B+"px";this.N.style.width=B+"px";this.element.style.paddingLeft=B+5+"px";this.element.style.paddingRight=B+
5+"px";p=Number(this.element.style.marginLeft.replace("px",""))-B-5;B=Number(this.element.style.marginRight.replace("px",""))-B-5;this.element.style.marginLeft=p+"px";this.element.style.marginRight=B+"px"}};
g.u.wd=function(p){var q;for(q=0;q<p.length&&p[q]===this.C[q];q++);if(this.q$||this.C.length>q)q=0,this.q$=!1,this.C=[],this.X=this.GR=this.sZ=null,g.aF(this.j);for(;q<p.length;q++)L7Y(this,p[q])};
g.u.Eh=function(){return 0};
g.u.Mb=function(){return 0};
g.u.toString=function(){return g.t.prototype.toString.call(this)};vBv.prototype.clear=function(){this.K=this.time=this.mode=0;this.W=[];this.reset()};
vBv.prototype.reset=function(){this.mode=0;this.j.reset(0);this.N.reset(1)};
var X6Q=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255];kg.prototype.set=function(p){this.type=p};
kg.prototype.get=function(){return this.type};
r6.prototype.clear=function(){this.state=0};
r6.prototype.update=function(){this.state=this.state===2?1:0};
r6.prototype.RR=function(){return this.state!==0};
r6.prototype.matches=function(p,q){return this.RR()&&p===this.uZ&&q===this.xD};
yRX.prototype.reset=function(){this.timestamp=this.W=0};
AX.prototype.updateTime=function(p){for(var q=1;q<=15;++q)for(var B=1;B<=32;++B)this.K[q][B].timestamp=p};
AX.prototype.debugString=function(){for(var p="\n",q=1;q<=15;++q){for(var B=1;B<=32;++B){var S=this.K[q][B];p=S.W===0?p+"_":p+String.fromCharCode(S.W)}p+="\n"}return p};
AX.prototype.reset=function(p){for(var q=0;q<=15;q++)for(var B=0;B<=32;B++)this.K[q][B].reset();this.j=p;this.W=0;this.Z=this.row=1};
var Npl=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],GqQ=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],h5l=[193,201,211,218,220,252,8216,161,42,39,9473,169,8480,183,8220,8221,192,194,199,200,202,203,235,
206,207,239,212,217,249,219,171,187],tRp=[195,227,205,204,236,210,242,213,245,123,125,92,94,95,124,126,196,228,214,246,223,165,164,9475,197,229,216,248,9487,9491,9495,9499];l1v.prototype.reset=function(p,q){this.N=q;this.style.set(2);this.Z=this.C;this.j=this.X;this.W=this.Z;var B=(p<<2)+(q<<1);this.C.reset(B);this.X.reset(B);this.text.reset((p<<2)+(q<<1)+1)};
R5l.prototype.reset=function(p){this.N=p;this.Z.clear();this.j=this.K;this.K.reset(p,0);this.C.reset(p,1)};mAS.prototype.j=function(){};g.Z(ZK,g.hK);ZK.prototype.toString=function(){return g.hK.prototype.toString.call(this)};g.Z(ii,g.y);ii.prototype.reset=function(){};g.Z(Qx,g.hK);Qx.prototype.toString=function(){return g.hK.prototype.toString.call(this)};
var Cr=0;g.Z(JX,ii);JX.prototype.reset=function(){this.X={};this.Z=this.W=null;this.C=!0};
JX.prototype.K=function(p,q){p=p.firstChild;p.getAttribute("format");q=q||0;Number.isFinite(q);p=Array.from(p.childNodes);p=g.L(p);for(var B=p.next();!B.done;B=p.next())if(B=B.value,B.nodeType===1)switch(B.tagName){case "head":var S=B;break;case "body":var I=B}if(S)for(S=Array.from(S.childNodes),S=g.L(S),p=S.next();!p.done;p=S.next())if(p=p.value,p.nodeType===1)switch(p.tagName){case "pen":B=p.getAttribute("id");var O=this.pens,n={},H=p.getAttribute("p");H&&Object.assign(n,this.pens[H]);H=Fc(p,"b");
H!=null&&(n.bold=H);H=Fc(p,"i");H!=null&&(n.italic=H);H=Fc(p,"u");H!=null&&(n.underline=H);H=d6(p,"et");H!=null&&(n.charEdgeStyle=H);H=d6(p,"of");H!=null&&(n.offset=H);H=DK(p,"bc");H!=null&&(n.background=H);H=DK(p,"ec");H!=null&&(n.v5=H);H=DK(p,"fc");H!=null&&(n.color=H);H=d6(p,"fs");H!=null&&H!==0&&(n.fontFamily=H);H=bi(p,"sz");H!==void 0&&(n.fontSizeIncrement=H/100-1);H=bi(p,"bo");H!==void 0&&(n.backgroundOpacity=H/255);H=bi(p,"fo");H!==void 0&&(n.textOpacity=H/255);H=d6(p,"rb");H!=null&&H!==10&&
H!==0&&(n.KK=H>10?H-1:H);p=d6(p,"hg");p!=null&&(n.Mo=p);O[B]=n;break;case "ws":B=p.getAttribute("id");this.hU[B]=Bqx(this,p);break;case "wp":B=p.getAttribute("id"),this.T[B]=S9p(this,p)}if(I){S=[];I=Array.from(I.childNodes);I=g.L(I);for(p=I.next();!p.done;p=I.next())if(p=p.value,p.nodeType===1)switch(p.tagName){case "w":this.W=I8l(this,p,q,!1);(p=this.X[this.W.id])&&p.end>this.W.start&&(p.end=this.W.start);this.X[this.W.id]=this.W;S.push(this.W);break;case "p":var M=p;H=q;B=[];O=M.getAttribute("w")||
this.N;n=!!Fc(M,"a");H=(bi(M,"t")||0)+H;var c=bi(M,"d")||5E3;n||(!this.C&&this.Z&&this.Z.windowId===O&&this.Z.end>H&&(this.Z.end=H),this.Z&&this.Z.text==="\n"&&(this.Z.text=""));var k=n?6:5,r=M.getAttribute("p");r=r?this.pens[r]:null;var W=Array.from(M.childNodes);W.length&&(this.C=M.getAttribute("d")!=null);for(M=0;M<W.length;M++){var A=W[M],P=void 0;M>0&&(n=!0);var Q=void 0;A.nodeType===1&&(Q=A);if(Q&&Q.tagName==="s"){if((A=(A=Q.getAttribute("p"))?this.pens[A]:null)&&A.KK&&(A.KK===1?(A=W.slice(M,
M+4),A.length===4&&(P=pDl(H,c,O,n,k,A,this.pens),M+=3)):P=pDl(H,c,O,n,k,[Q],this.pens)),!P){var J=Q;P=H;Q=c;A=O;var R=n,a=k,v=J.textContent?J.textContent:"",x=J.getAttribute("p");x=x?this.pens[x]:null;J=bi(J,"t")||0;P=new ZK(P+J,Q-J,a,A,v,R,x)}}else P=new ZK(H,c,k,O,A.textContent||"",n,r);B.push(P);this.Z=P}if(B.length>0)for(B[0].windowId===this.N&&(this.W=I8l(this,p,q,!0),S.push(this.W)),p=g.L(B),B=p.next();!B.done;B=p.next())B=B.value,B.windowId=this.W.id,this.W.W.push(B),S.push(B)}q=S}else q=[];
return q};var t5C=new Map([[9,1],[10,1],[11,2],[12,3],[13,4],[14,5]]);g.Z(aC,ii);aC.prototype.reset=function(){this.Z.clear()};
aC.prototype.K=function(p,q){var B=JSON.parse(p);if(!B)return[];if(B.pens){p=0;for(var S=g.L(B.pens),I=S.next();!I.done;I=S.next()){I=I.value;var O={},n=I.pParentId;n&&Object.assign(O,this.W.get(n));I.bAttr&&(O.bold=!0);I.iAttr&&(O.italic=!0);I.uAttr&&(O.underline=!0);n=I.ofOffset;n!=null&&(O.offset=n);I.szPenSize!==void 0&&(O.fontSizeIncrement=I.szPenSize/100-1);n=I.etEdgeType;n!=null&&(O.charEdgeStyle=n);I.ecEdgeColor!==void 0&&(O.v5=Lr(I.ecEdgeColor));n=I.fsFontStyle;n!=null&&n!==0&&(O.fontFamily=
n);I.fcForeColor!==void 0&&(O.color=Lr(I.fcForeColor));I.foForeAlpha!==void 0&&(O.textOpacity=I.foForeAlpha/255);I.bcBackColor!==void 0&&(O.background=Lr(I.bcBackColor));I.boBackAlpha!==void 0&&(O.backgroundOpacity=I.boBackAlpha/255);(n=I.rbRuby)&&n!==10&&(O.KK=n>10?n-1:n,O.textEmphasis=t5C.get(O.KK));I.hgHorizGroup&&(O.Mo=I.hgHorizGroup);this.W.set(p++,O)}}if(B.wsWinStyles)for(p=0,S=g.L(B.wsWinStyles),I=S.next();!I.done;I=S.next())I=I.value,O={},(n=I.wsParentId)?Object.assign(O,this.N.get(n)):Object.assign(O,
this.C),I.mhModeHint!==void 0&&(O.Be=I.mhModeHint),I.juJustifCode!==void 0&&(O.textAlign=I.juJustifCode),I.pdPrintDir!==void 0&&(O.B0=I.pdPrintDir),I.sdScrollDir!==void 0&&(O.dJ=I.sdScrollDir),I.wfcWinFillColor!==void 0&&(O.windowColor=Lr(I.wfcWinFillColor)),I.wfoWinFillAlpha!==void 0&&(O.windowOpacity=I.wfoWinFillAlpha/255),this.N.set(p++,O);if(B.wpWinPositions)for(p=0,S=g.L(B.wpWinPositions),I=S.next();!I.done;I=S.next())I=I.value,O={},(n=I.wpParentId)&&Object.assign(O,this.j.get(n)),I.ahHorPos!==
void 0&&(O.Gz=I.ahHorPos),I.apPoint!==void 0&&(O.nj=I.apPoint),I.avVerPos!==void 0&&(O.QC=I.avVerPos),I.ccCols!==void 0&&(O.wN=I.ccCols),I.rcRows!==void 0&&(O.J6=I.rcRows),this.j.set(p++,O);if(B.events){p=[];B=g.L(B.events);for(S=B.next();!S.done;S=B.next()){var H=S.value;I=(H.tStartMs||0)+q;O=H.dDurationMs||0;if(H.id)n=String(H.id),S=OnI(this,H,I,O,n),p.push(S),this.Z.set(n,S);else{H.wWinId?n=H.wWinId.toString():(n="_"+Cr++,S=OnI(this,H,I,O,n),p.push(S),this.Z.set(n,S));S=p;var M=H;O===0&&(O=5E3);
H=this.Z.get(n);var c=!!M.aAppend,k=c?6:5,r=M.segs,W=null;M.pPenId&&(W=this.W.get(M.pPenId));for(M=0;M<r.length;M++){var A=r[M],P=A.utf8;if(P){var Q=A.tOffsetMs||0,J=null;A.pPenId&&(J=this.W.get(A.pPenId));if((H.params.Be!=null?H.params.Be:H.W.length>1?1:0)===2&&c&&P==="\n")continue;A=null;var R=[],a;if(a=J&&J.KK===1){a=r;var v=M;if(v+3>=a.length||!a[v+1].pPenId||!a[v+2].pPenId||!a[v+3].pPenId)a=!1;else{var x=a[v+1].pPenId;(x=this.W.get(x))&&x.KK&&x.KK===2?(x=a[v+2].pPenId,x=this.W.get(x),!x||!x.KK||
x.KK<3?a=!1:(x=a[v+3].pPenId,a=(x=this.W.get(x))&&x.KK&&x.KK===2?!0:!1)):a=!1}}if(a)Q=r[M+1].utf8,A=r[M+3].utf8,a=r[M+2].utf8,v=this.W.get(r[M+2].pPenId),P=f1S(P,Q,a,A,v),A=new ZK(I,O,k,n,P,c,J),M+=3;else{if(P.indexOf("<")>-1){var G=void 0;R=J;a=W;v=I;x=O;var N=Q,f=k,BZ=c,St=[],oT=g.tu("<html>"+P+"</html>");if(!oT.getElementsByTagName("parsererror").length&&((G=oT.firstChild)==null?0:G.childNodes.length))for(G=g.L(oT.firstChild.childNodes),oT=G.next();!oT.done;oT=G.next()){oT=oT.value;var rc=void 0,
IT=void 0,CK=(IT=(rc=oT.textContent)==null?void 0:rc.replace(/\n/g,""))!=null?IT:"";if(oT.nodeType!==3||CK&&CK.match(/^ *$/)==null){rc={};Object.assign(rc,R||a);IT=void 0;switch((IT=oT)==null?void 0:IT.tagName){case "b":rc.bold=!0;break;case "i":rc.italic=!0;break;case "u":rc.underline=!0}St.push(new ZK(v+N,x-N,f,H.id,CK,BZ,rc))}}R=St}R.length||(R=[new ZK(I+Q,O-Q,k,H.id,P,c,J||W)])}if(R.length)for(c=g.L(R),J=c.next();!J.done;J=c.next())J=J.value,S.push(J),H.W.push(J);else A&&(S.push(A),H.W.push(A))}c=
!0}}}q=p}else q=[];return q};g.Z(RC,g.kD);RC.prototype.uS=function(p,q,B){w6I(this.videoData.videoId,p.vssId,B.g8)};
RC.prototype.Qp=function(p){if(this.audioTrack)for(var q=g.L(this.audioTrack.captionTracks),B=q.next();!B.done;B=q.next())g.ci(this.W,B.value);p.lA()};g.Z(vM,Ml);vM.prototype.wd=function(p){var q=this.Z.W;Ml.prototype.wd.call(this,p);for(p=p.length;p<q.length;p++){var B=q[p];if(O&&B.W===I)var S=O;else{S={};Object.assign(S,B.W);Object.assign(S,E6Y);var I=B.W;var O=S}L7Y(this,B,S)}};
var E6Y={Oby:!0};g.Z(Xc,mAS);Xc.prototype.j=function(p,q,B,S,I){if(B<S){var O="_"+Cr++;B=B/1E3-this.C;S=S/1E3-this.C;p=new Qx(B,S-B,5,O,{textAlign:0,nj:0,Gz:q*2.5,QC:p*5.33});I=new ZK(B,S-B,5,O,I);this.Z.push(p);this.Z.push(I)}};
g.Z(zV,ii);zV.prototype.K=function(p){p=new Xc(p,p.byteLength,this.Z);if(o6l(p)){for(;p.byteOffset<p.W.byteLength;)for(p.version===0?p.K=TV(p)*(1E3/45):p.version===1&&(p.K=TV(p)*4294967296+TV(p)),p.N=xg(p);p.N>0;p.N--){var q=xg(p),B=xg(p),S=xg(p);q&4&&(q&3)===this.track&&(this.track===0||this.track===1)&&(q=this.W,q.W.push({time:p.K,type:this.track,mQ:B,iF:S,order:q.W.length}))}VRl(this.W,p);return p.Z}return[]};
zV.prototype.reset=function(){this.W.clear()};g.Z(Vx,Ml);g.u=Vx.prototype;g.u.Go=function(){g.mq(this.D3)};
g.u.eQ=function(){this.element.removeEventListener("transitionend",this.eQ,!1);g.g8(this.element,"ytp-rollup-mode");this.OR(this.t5,!0)};
g.u.Mb=function(){return this.K?this.Zy:this.T};
g.u.Eh=function(){return this.K?this.T:this.Zy};
g.u.OR=function(p,q){this.t5=p;if(this.Z.params.J6){for(var B=0,S=0;S<this.C.length&&B<p.length;S++)this.C[S]===p[B]&&B++;B>0&&B<p.length&&(p=this.C.concat(p.slice(B)));this.NE=this.Zy;this.T=this.Zy=0;Ml.prototype.OR.call(this,p);Hnx(this,q)}Ml.prototype.OR.call(this,p)};M5C.prototype.unload=function(){this.W!=null&&(this.U.removeEventListener("sabrCaptionsDataLoaded",this.W),this.W=null);this.Jb=[];this.U.publish("sabrCaptionsBufferedRangesUpdated",this.Jb)};
M5C.prototype.D2=function(p){return{formatId:g.tp(p.info.N$.info,this.Om),bd:p.info.bd+(this.Om?0:1),startTimeMs:p.info.j*1E3,durationMs:p.info.X*1E3}};g.Z(yx,g.kD);yx.prototype.uS=function(p,q,B){this.HC();q=p.getId();q=q!=null&&q in this.Z.W?this.Z.W[q]:null;q||(q=p.languageCode,q=this.Z.isManifestless?AmI(this,q,"386"):AmI(this,q));q&&(this.j=p,this.C=q,kJC(this.X,B),this.U.publish("sabrCaptionsTrackChanged",g.tp(q.info,this.Z.Om)))};
yx.prototype.Qp=function(p){var q=this.Z.isManifestless?rmQ(this,"386"):rmQ(this);q=g.L(q);for(var B=q.next();!B.done;B=q.next())g.ci(this.W,B.value);p.lA()};
yx.prototype.HC=function(){this.j&&(this.j=this.C=null,this.X.unload(),this.U.publish("sabrCaptionsTrackChanged",null))};
yx.prototype.BR=function(){return""};var uyC="WEBVTT".split("").map(function(p){return p.charCodeAt(0)});
g.Z(PUY,ii);
PUY.prototype.K=function(p,q){p instanceof ArrayBuffer&&(p=g.ir(new Uint8Array(p)));var B=[];p=p.split(KOl);for(var S=1;S<p.length;S++){var I=p[S],O=q;if(I!==""&&!Uhl.test(I)){var n=l8I.exec(I);if(n&&n.length>=4){var H=inl(n[1]),M=inl(n[2])-H;H+=O;var c=(n=n[3])?n.split(" "):[];n={};var k=null;var r="";var W=null,A="";c=g.L(c);for(var P=c.next();!P.done;P=c.next())if(P=P.value.split(":"),P.length===2){var Q=P[1];switch(P[0]){case "line":P=Q.split(",");P[0].endsWith("%")&&(k=P[0],n.QC=Number.parseInt(k,
10),P.length===2&&(r=P[1].trim()));break;case "position":P=Q.split(",");W=P[0];n.Gz=Number.parseInt(W,10);P.length===2&&(A=P[1].trim());break;case "align":switch(Q){case "start":n.textAlign=0;break;case "middle":n.textAlign=2;break;case "end":n.textAlign=1}}}k||r||(r="end");if(!W)switch(n.textAlign){case 0:n.Gz=0;break;case 1:n.Gz=100;break;case 2:n.Gz=50}if(n.textAlign!=null){k=0;switch(r){case "center":k+=3;break;case "end":k+=6;break;default:k+=0}switch(A){case "line-left":k+=0;break;case "center":k+=
1;break;case "line-right":k+=2;break;default:switch(n.textAlign){case 0:k+=0;break;case 2:k+=1;break;case 1:k+=2}}r=k<0||k>8?7:k;n.nj=r}I=I.substring(l8I.lastIndex).replace(/[\x01-\x09\x0b-\x1f]/g,"");A=n;n=I;I={};if(n.indexOf("<")<0&&n.indexOf("&")<0)O=QBx(H,M,5,A),M=new ZK(H,M,5,O.id,n,!1,g.aQ(I)?void 0:I),B.push(O),B.push(M),O.W.push(M);else for(r=n.split(jBY),r.length===1?(n=5,A=QBx(H,M,n,A)):(k=n=6,A=Object.assign({wN:32},A),A=new Qx(H,M,k,"_"+Cr++,A)),B.push(A),k=H,W=0;W<r.length;W++)c=r[W],
W%2===0?(P=g.tu("<html>"+c+"</html>"),P.getElementsByTagName("parsererror").length?(Q=P.createElement("span"),Q.appendChild(P.createTextNode(c))):Q=P.firstChild,ZnC(this,k,M-(k-H),n,A,W>0,Q,I,B)):k=inl(c)+O}l8I.lastIndex=0}}return B};
var Uhl=/^NOTE/,KOl=/(?:\r\n|\r|\n){2,}/,l8I=RegExp("^((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})[\\t ]+--\x3e[\\t ]+((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})(?:[\\t ]*)(.*)(?:\\r\\n|\\r|\\n)","gm"),jBY=RegExp("<((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})>");g.Z(Nl,g.y);Nl.prototype.clear=function(){this.W&&this.W.dispose();this.W=null};
Nl.prototype.reset=function(){this.W&&this.W.reset()};
Nl.prototype.Fg=function(){g.y.prototype.Fg.call(this);this.clear()};var jB={windowColor:"#080808",windowOpacity:0,textAlign:2,nj:7,Gz:50,QC:100,isDefault:!0,iK:{background:"#080808",backgroundOpacity:.75,charEdgeStyle:0,color:"#fff",fontFamily:4,fontSizeIncrement:0,textOpacity:1,offset:1}};g.Z(DhD,g.MD);g.u=DhD.prototype;g.u.Fg=function(){if(this.j||this.q$){var p=this.U.c6();p&&!p.Xg()&&p.FB()}else GJC(this,!1);g.MD.prototype.Fg.call(this)};
g.u.B9=function(){return this.V.D("html5_honor_caption_availabilities_in_audio_track")&&this.K!=="LIVE"&&this.K!=="SABR_LIVE"};
g.u.sM=function(){if(this.yV)return this.j||this.q$;if(this.K==="HLS")return this.j;var p=this.getAudioTrack();if(this.B9()){if(!p.captionTracks.length)return!1;if(!this.Z)return!0}p=O_x(p,g.gu(this.V));return p==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?!0:p==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"?GV(this):LOz(this)||GV(this)?!0:RUY(this)};
g.u.load=function(){g.MD.prototype.load.call(this);this.hU=this.getAudioTrack();if(this.Z)this.W&&(this.Lb.clear(),this.j?XDC(this,!0):this.player.getPresentingPlayerType()!==3&&this.Z.uS(this.W,"json3",this.NE),this.K!=="HLS"&&this.j||this.q$||EC(this)||this.player.xw("captionschanged",g.$r(this.W)));else{var p;this.K==="OFFLINE"?p=new RC(this.player,this.videoData,this.getAudioTrack()):this.K==="SABR_LIVE"?p=new yx(this.videoData.W,this.player):this.K==="HLS"?p=new ARQ(this.player):this.K==="LIVE"?
p=new HM(this.videoData.W,this.player):this.K==="INNERTUBE"?p=new g.rX(this.player,this.videoData,this.getAudioTrack()):p=new g.Wi(this.player,this.videoData.t5,this.videoData.videoId,g.vOo(this.videoData),this.videoData.L9,this.videoData.eventId);this.Z=p;g.h(this,this.Z);this.Z.Qp(this.NE)}};
g.u.unload=function(){this.j&&this.W?XDC(this,!1):(this.Rg&&g.fA(this.Rg),this.player.Gq("captions"),this.sZ=[],this.Z&&this.Z.HC(),this.Lb.clear(),this.Zy&&this.player.PA(this.Zy),this.oi());g.MD.prototype.unload.call(this);this.player.Y7();this.player.xw("captionschanged",{})};
g.u.create=function(){this.sM()&&this.load();var p;a:{var q,B,S;if(this.V.D("web_player_nitrate_promo_tooltip")&&((q=this.videoData.getPlayerResponse())==null?0:(B=q.captions)==null?0:(S=B.playerCaptionsTracklistRenderer)==null?0:S.enableTouchCaptionsNitrate)){var I,O;if(q=(p=this.videoData.getPlayerResponse())==null?void 0:(I=p.captions)==null?void 0:(O=I.playerCaptionsTracklistRenderer)==null?void 0:O.captionTracks)for(p=g.L(q),I=p.next();!I.done;I=p.next())if(I=I.value,I.kind==="asr"&&I.languageCode===
"en"){p=!0;break a}}p=!1}p&&this.U.publish("showpromotooltip",this.T.element)};
g.u.lA=function(){var p=O_x(this.player.getAudioTrack(),g.gu(this.V));var q=p==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?tX(this,this.X):p==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"&&GV(this)?hX(this):LOz(this)||this.X||RUY(this)?tX(this,this.X):GV(this)?hX(this):null;if(this.K!=="HLS"&&this.j||this.q$){var B=g.Eq(this.Z.W,!0);p=[];for(var S=0;S<B.length;S++){var I=B[S],O=g.dF("TRACK");O.setAttribute("kind","subtitles");O.setAttribute("label",g.du(I));O.setAttribute("srclang",g.Do(I));O.setAttribute("id",
I.toString());this.q$||O.setAttribute("src",this.Z.BR(I,"vtt"));I===q&&O.setAttribute("default","1");p.push(O)}q=this.U.c6();q.nX(p);p=q.ov();this.Z3&&this.M$.S(p.textTracks,"change",this.eCh)}else!this.W&&q&&li(this,q),this.player.xw("onCaptionsTrackListChanged"),this.player.Ch("onApiChange")};
g.u.getTrackById=function(p){for(var q=g.Eq(this.Z.W,!0),B=0;B<q.length;B++)if(q[B].toString()===p)return q[B];return null};
g.u.eCh=function(){for(var p=this.U.c6().ov().textTracks,q=null,B=0;B<p.length;B++)p[B].mode==="showing"&&(q=this.getTrackById(p[B].id));(this.loaded?this.W:null)!==q&&li(this,q,!0)};
g.u.IAg=function(){var p;(p=this.Z)==null||p.Qp(this.NE)};
g.u.Gry=function(){!this.W&&this.j||this.unload()};
g.u.g8=function(p,q,B,S){if(p){var I;xhp(this,(I=this.W)!=null?I:void 0);this.Z.sW()&&(this.sZ=[],this.U.Gq("captions"),g6(this.GR),this.Lb.reset());a:{I=this.Lb;S=S||0;B=JmD(I,p,B||0);p=[];try{for(var O=g.L(B),n=O.next();!n.done;n=O.next()){var H=n.value,M=H.trackData,c=H.Mx,k=I.V.D("safari_live_drm_captions_fix");if(typeof M!=="string"){B=p;var r=B.concat;if(k&&eUz(M))var W=bnv(I,M,c);else{var A=I,P=q,Q=M,J=c,R=S;if(!n6j(Q))throw Error("Invalid binary caption track data");A.W||(A.W=new zV(R,P));
W=A.W.K(Q,J)}var a=r.call(B,W)}else{if(M.substring(0,6)==="WEBVTT")var v=p.concat(bnv(I,M,c));else{B=p;var x=B.concat;b:{P=A=void 0;Q=I;J=q;if(M[0]==="{")try{Q.W||(Q.W=new aC(FOI(J)));var G=P=Q.W.K(M,c);break b}catch(IT){g.an(IT);G=[];break b}var N=g.tu(M);if(!N||!N.firstChild){var f=Error("Invalid caption track data");f.params=M;throw f;}if(N.firstChild.tagName==="timedtext"){if(Number(N.firstChild.getAttribute("format"))===3){Q.W||(Q.W=new JX(FOI(J),Q.V));G=A=Q.W.K(N,c);break b}var BZ=Error("Unsupported subtitles format in web player (Format2)");
BZ.params=M;throw BZ;}if(N.firstChild.tagName==="transcript"){var St=Error("Unsupported subtitles format in web player (Format1)");St.params=M;throw St;}var oT=Error("Invalid caption track data");oT.params=M;throw oT;}v=x.call(B,G)}a=v}p=a}var rc=p;break a}catch(IT){g.JD(I.logger,187101178,"Captions parsing failed: "+IT.message+". ");I.clear();rc=[];break a}rc=void 0}q=rc;q.length>0&&(rc=this.W,this.M7(rc,!!rc,EC(this)?"g":this.X?"m":"s"));this.player.PA(q,void 0,this.K==="LIVE"||this.K==="SABR_LIVE");
!this.X||this.q$||EC(this)||g.AK(this.V)||g.lh(this.V)||g.z5(this.V)||this.V.wz==="shortspage"||this.player.isInline()||(g.fA(this.Rg),q=q9X({nj:0,Gz:5,QC:5,J6:2,textAlign:0,B0:0,lang:"fr"}),this.Yq=[q],rc=["Cliquez sur "," pour acc\u00e9der aux param\u00e8tres."],this.eh||(O=new g.gy(g.a1()),g.h(this,O),this.eh=O.element),O=q.end-q.start,(n=g.du(this.W))&&this.Yq.push(new ZK(q.start,O,0,q.id,n)),this.Yq.push(new ZK(q.start,O,0,q.id,rc[0]),new ZK(q.start,O,0,q.id,this.eh,!0),new ZK(q.start,O,0,q.id,
rc[1],!0)),this.player.PA(this.Yq),g.s$(this.Rg));!this.X||this.q$||EC(this)||(g.gu(this.V)?Kr(this,!0):UC(this,!0),this.hU&&(this.hU.j=this.W),this.player.Y7());this.X=!1}};
g.u.onCueRangeEnter=function(p){this.sZ.push(p);g6(this.GR)};
g.u.onCueRangeExit=function(p){g.fI(this.sZ,p);this.Z instanceof HM&&this.Z.X&&this.player.Iu([p]);g6(this.GR)};
g.u.getCaptionWindowContainerId=function(){return this.T.element.id};
g.u.Ipg=function(){Nqb(this,this.Yq);this.Yq=null};
g.u.iC=function(){var p=this;if(!this.D3||!this.j){this.GR.stop();g.SlO(this.zR);this.sZ.sort(g.tK);var q=this.sZ;if(this.Zy){var B=g.zN(q,function(O){return this.Zy.indexOf(O)===-1},this);
B.length&&(q=B)}q=g.L(q);for(B=q.next();!B.done;B=q.next())zUj(this,B.value);q=g.L(Object.entries(this.wz));var S=q.next();for(B={};!S.done;B={We:void 0,ww:void 0},S=q.next()){var I=g.L(S.value);S=I.next().value;I=I.next().value;B.We=S;B.ww=I;this.zR[B.We]?(B.ww.element.parentNode||(B.ww instanceof Vx||B.ww instanceof vM||g.O3(this.wz,function(O){return function(n,H){H!==O.We&&n.Z.params.nj===O.ww.Z.params.nj&&n.Z.params.Gz===O.ww.Z.params.Gz&&n.Z.params.QC===O.ww.Z.params.QC&&(n.dispose(),delete p.wz[H]);
return H===O.We}}(B),this),this.T.element.appendChild(B.ww.element)),B.ww.OR(this.zR[B.We])):(B.ww.dispose(),delete this.wz[B.We])}}};
g.u.mLq=function(){$hj(this,{},!0);this.player.xw("captionssettingschanged")};
g.u.n3=function(){var p=jB.iK;p={background:p.background,backgroundOpacity:p.backgroundOpacity,charEdgeStyle:p.charEdgeStyle,color:p.color,fontFamily:p.fontFamily,fontSizeIncrement:p.fontSizeIncrement,fontStyle:p.bold&&p.italic?3:p.bold?1:p.italic?2:0,textOpacity:p.textOpacity,windowColor:jB.windowColor,windowOpacity:jB.windowOpacity};var q=rRY()||{};q.background!=null&&(p.background=q.background);q.backgroundOverride!=null&&(p.backgroundOverride=q.backgroundOverride);q.backgroundOpacity!=null&&(p.backgroundOpacity=
q.backgroundOpacity);q.backgroundOpacityOverride!=null&&(p.backgroundOpacityOverride=q.backgroundOpacityOverride);q.charEdgeStyle!=null&&(p.charEdgeStyle=q.charEdgeStyle);q.charEdgeStyleOverride!=null&&(p.charEdgeStyleOverride=q.charEdgeStyleOverride);q.color!=null&&(p.color=q.color);q.colorOverride!=null&&(p.colorOverride=q.colorOverride);q.fontFamily!=null&&(p.fontFamily=q.fontFamily);q.fontFamilyOverride!=null&&(p.fontFamilyOverride=q.fontFamilyOverride);q.fontSizeIncrement!=null&&(p.fontSizeIncrement=
q.fontSizeIncrement);q.fontSizeIncrementOverride!=null&&(p.fontSizeIncrementOverride=q.fontSizeIncrementOverride);q.fontStyle!=null&&(p.fontStyle=q.fontStyle);q.fontStyleOverride!=null&&(p.fontStyleOverride=q.fontStyleOverride);q.textOpacity!=null&&(p.textOpacity=q.textOpacity);q.textOpacityOverride!=null&&(p.textOpacityOverride=q.textOpacityOverride);q.windowColor!=null&&(p.windowColor=q.windowColor);q.windowColorOverride!=null&&(p.windowColorOverride=q.windowColorOverride);q.windowOpacity!=null&&
(p.windowOpacity=q.windowOpacity);q.windowOpacityOverride!=null&&(p.windowOpacityOverride=q.windowOpacityOverride);return p};
g.u.jT=function(p,q){var B={};Object.assign(B,rRY());Object.assign(B,p);$hj(this,B,q);this.player.xw("captionssettingschanged")};
g.u.oi=function(){!this.j&&this.loaded&&(g.PZ(this.wz,function(p,q){p.dispose();delete this.wz[q]},this),this.iC())};
g.u.Ph=function(p,q){switch(p){case "fontSize":if(isNaN(q))break;p=g.qw(q,-2,4);this.jT({fontSizeIncrement:p});return p;case "reload":q&&!this.j&&li(this,this.W,!0);break;case "stickyLoading":q!==void 0&&this.V.T&&(g.gu(this.V)?Kr(this,!!q):UC(this,!!q));break;case "track":return ymC(this,q);case "tracklist":return this.Z?g.aN(g.Eq(this.Z.W,!(!q||!q.includeAsr)),function(B){return g.$r(B)}):[];
case "translationLanguages":return this.Z?this.Z.N.map(function(B){return Object.assign({},B)}):[];
case "sampleSubtitles":this.j||q===void 0||GJC(this,!!q);break;case "sampleSubtitlesCustomized":this.j||GJC(this,!!q,q);break;case "recommendedTranslationLanguages":return g.aS();case "defaultTranslationSourceTrackIndices":return this.Z?this.Z.T:[]}};
g.u.getOptions=function(){var p="reload fontSize track tracklist translationLanguages sampleSubtitle".split(" ");this.V.T&&p.push("stickyLoading");return p};
g.u.Es=function(){var p=this.W;if(this.U.yS("captions")){if(this.V.D("html5_modify_caption_vss_logging")){var q;return(p=(q=this.videoData.Iw)!=null?q:null)?{cc:g.buD(p)}:{}}if(p)return q=p.vssId,p.translationLanguage&&q&&(q="t"+q+"."+g.Do(p)),{cc:q}}return{}};
g.u.Kqz=function(){this.isSubtitlesOn()?(g.gu(this.V)?Kr(this,!1):UC(this,!1),xhp(this),li(this,null,!0)):this.SP()};
g.u.SP=function(){var p=EC(this)||!this.W?tX(this,!0):this.W;p&&this.n9(p.vssId,"m");this.isSubtitlesOn()||li(this,EC(this)||!this.W?tX(this,!0):this.W,!0)};
g.u.isSubtitlesOn=function(){return!!this.loaded&&!!this.W&&!EC(this)};
g.u.Kdq=function(){var p=EC(this);GV(this,p)?li(this,this.getAudioTrack().W,!1):this.videoData.captionTracks.length&&(this.loaded&&this.unload(),this.B9()&&(this.X=!1,this.W=null,this.Z&&(this.Z.dispose(),this.Z=null)),this.sM()&&(p?li(this,tX(this,!1),!1):this.load()))};
g.u.nW=function(p){p&&(this.Kb={top:p.top,right:p.right,bottom:p.bottom,left:p.left,width:1-p.left-p.right,height:1-p.top-p.bottom},this.T.element.style.top=this.Kb.top*100+"%",this.T.element.style.left=this.Kb.left*100+"%",this.T.element.style.width=this.Kb.width*100+"%",this.T.element.style.height=this.Kb.height*100+"%",this.T.element.style.position="absolute",p=V5j(this))&&(this.T.element.style.width=p.width+"px",this.T.element.style.height=p.height+"px")};
g.u.onVideoDataChange=function(p,q){p==="newdata"&&(this.videoData=q,this.loaded&&this.unload(),this.X=!1,this.W=null,this.Z&&(this.Z.dispose(),this.Z=null,this.player.xw("captionschanged",{})),this.sM()&&this.load())};
g.u.getAudioTrack=function(){return this.player.getAudioTrack()};
g.u.IKq=function(){var p=this.U.c6();p&&!p.Xg()&&p.FB();this.U.isFullscreen()?(this.j=this.yV=!0,this.loaded&&this.lA()):(this.yV=this.V.controlsType==="3",this.j=dhl(this));li(this,this.W)};
g.u.qF=function(){var p,q,B,S=(p=this.videoData.getPlayerResponse())==null?void 0:(q=p.captions)==null?void 0:(B=q.playerCaptionsTracklistRenderer)==null?void 0:B.openTranscriptCommand;S&&this.player.TR("innertubeCommand",S)};
g.u.M7=function(p,q,B){var S=/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm,I="";p&&(I=p.vssId,I=I.replace(S,""));var O="";p&&p.getId()&&(O=p.getId()||"");p&&p.getXtags()&&(p=p.getXtags(),p=p.replace(S,""),O=O.concat(";"+p));this.K==="HLS"&&(O="");this.U.M7(q?I:"",q?O:"",B)};
g.u.n9=function(p,q){p=(p||"").replace(/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm,"");p.length>0&&this.U.n9(p,q)};g.Hi("captions",DhD);})(_yt_player);

(function(g){var window=this;'use strict';var Ztl=function(p){p.publish("autonavvisibility")},itD=function(p,q){p.TR("onAutonavCoundownStarted",q)},QJl=function(p){return p.isBackground()&&p.R_()},C$l=function(p){var q,B,S;
return p==null?void 0:(q=p.playerOverlays)==null?void 0:(B=q.playerOverlayRenderer)==null?void 0:(S=B.autoplay)==null?void 0:S.playerOverlayAutoplayRenderer},Sm=function(p){var q=p.B(),B=q.j;
g.t.call(this,{J:"a",G:"ytp-autonav-suggestion-card",Y:{href:"{{url}}",target:B?q.hU:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},L:[{J:"div",Cb:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],Y:{style:"{{background}}"},L:[{J:"div",Y:{"aria-label":"{{timestamp}}"},Cb:["ytp-autonav-timestamp"],jh:"{{duration}}"},{J:"div",Cb:["ytp-autonav-live-stamp"],jh:"En direct"},
{J:"div",Cb:["ytp-autonav-upcoming-stamp"],jh:"\u00c0 venir"},{J:"div",G:"ytp-autonav-list-overlay",L:[{J:"div",G:"ytp-autonav-mix-text",jh:"Mix"},{J:"div",G:"ytp-autonav-mix-icon"}]}]},{J:"div",Cb:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],jh:"{{title}}"},{J:"div",Cb:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],jh:"{{author}}"},{J:"div",Cb:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],jh:"{{views_and_publish_time}}"}]});this.U=
p;this.suggestion=null;this.W=B;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},Iz=function(p,q){q=q===void 0?!1:q;
g.t.call(this,{J:"div",G:"ytp-autonav-endscreen-countdown-overlay"});var B=this;this.C=q;this.cancelCommand=this.N=void 0;this.K=0;this.container=new g.t({J:"div",G:"ytp-autonav-endscreen-countdown-container"});g.h(this,this.container);this.container.kq(this.element);q=p.B();var S=q.j;this.U=p;this.suggestion=null;this.onVideoDataChange("newdata",this.U.getVideoData());this.S(p,"videodatachange",this.onVideoDataChange);this.W=new g.t({J:"div",G:"ytp-autonav-endscreen-upnext-container",Y:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},L:[{J:"div",G:"ytp-autonav-endscreen-upnext-header"},{J:"div",G:"ytp-autonav-endscreen-upnext-alternative-header",jh:"{{autoplayAlternativeHeader}}"},{J:"a",G:"ytp-autonav-endscreen-link-container",Y:{href:"{{url}}",target:S?q.hU:""},L:[{J:"div",G:"ytp-autonav-endscreen-upnext-thumbnail",Y:{style:"{{background}}"},L:[{J:"div",Y:{"aria-label":"{{timestamp}}"},Cb:["ytp-autonav-timestamp"],
jh:"{{duration}}"},{J:"div",Cb:["ytp-autonav-live-stamp"],jh:"En direct"},{J:"div",Cb:["ytp-autonav-upcoming-stamp"],jh:"\u00c0 venir"}]},{J:"div",G:"ytp-autonav-endscreen-video-info",L:[{J:"div",G:"ytp-autonav-endscreen-premium-badge"},{J:"div",G:"ytp-autonav-endscreen-upnext-title",jh:"{{title}}"},{J:"div",G:"ytp-autonav-endscreen-upnext-author",jh:"{{author}}"},{J:"div",G:"ytp-autonav-view-and-date",jh:"{{views_and_publish_time}}"},{J:"div",G:"ytp-autonav-author-and-view",jh:"{{author_and_views}}"}]}]}]});
g.h(this,this.W);this.W.kq(this.container.element);S||this.S(this.W.JU("ytp-autonav-endscreen-link-container"),"click",this.Ii);this.U.createClientVe(this.container.element,this,115127);this.U.createClientVe(this.W.JU("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.t({J:"div",G:"ytp-autonav-overlay"});g.h(this,this.overlay);this.overlay.kq(this.container.element);this.Z=new g.t({J:"div",G:"ytp-autonav-endscreen-button-container"});g.h(this,this.Z);this.Z.kq(this.container.element);
this.cancelButton=new g.t({J:"button",Cb:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button","ytp-autonav-endscreen-upnext-button-rounded"],Y:{"aria-label":"Annuler la lecture automatique"},jh:"Annuler"});g.h(this,this.cancelButton);this.cancelButton.kq(this.Z.element);this.cancelButton.listen("click",this.At,this);this.U.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.t({J:"a",Cb:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
"ytp-autonav-endscreen-upnext-button-rounded"],Y:{href:"{{url}}",role:"button","aria-label":"Lire la vid\u00e9o suivante"},jh:"Regarder"});g.h(this,this.playButton);this.playButton.kq(this.Z.element);this.playButton.listen("click",this.Ii,this);this.U.createServerVe(this.playButton.element,this.playButton,!0);(q=this.U.getVideoData())&&Jfp(this,q);this.j=new g.YN(function(){btS(B)},500);
g.h(this,this.j);this.TG();this.S(p,"autonavvisibility",this.TG);this.U.D("web_autonav_color_transition")&&(this.S(p,"autonavchange",this.HU),this.S(p,"onAutonavCoundownStarted",this.j5$))},Oj=function(p){var q=p.U.WY(!0,p.U.isFullscreen());
g.Hx(p.container.element,"ytp-autonav-endscreen-small-mode",p.uO(q));g.Hx(p.container.element,"ytp-autonav-endscreen-is-premium",!!p.suggestion&&!!p.suggestion.Ykv);g.Hx(p.U.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!p.U.wM());g.Hx(p.U.getRootNode(),"countdown-running",p.ED());g.Hx(p.container.element,"ytp-player-content",p.U.wM());g.IN(p.overlay.element,{width:q.width+"px"});if(!p.ED()){p.U.wM()?FUl(p,Math.round(dZX(p)/1E3)):FUl(p);q=!!p.suggestion&&!!p.suggestion.Za;var B=p.U.wM()||
!q;g.Hx(p.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!B&&q);g.Hx(p.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",B&&!q);p.Z.fN(p.U.wM());g.Hx(p.element,"ytp-enable-w2w-color-transitions",$ZQ(p))}},btS=function(p){var q=dZX(p),B=Math,S=B.min;
var I=p.K?Date.now()-p.K:0;B=S.call(B,I,q);FUl(p,Math.ceil((q-B)/1E3));q-B<=500&&p.ED()?p.select(!0):p.ED()&&p.j.start()},dZX=function(p){if(p.U.isFullscreen()){var q;
p=(q=p.U.getVideoData())==null?void 0:q.mM;return p===-1||p===void 0?8E3:p}return p.U.Gp()>=0?p.U.Gp():g.fG(p.U.B().experiments,"autoplay_time")||1E4},Jfp=function(p,q){q=q.getWatchNextResponse();
var B,S;q=(B=C$l(q))==null?void 0:(S=B.nextButton)==null?void 0:S.buttonRenderer;p.N=q==null?void 0:q.navigationEndpoint;B=q==null?void 0:q.trackingParams;p.playButton&&B&&p.U.setTrackingParams(p.playButton.element,B)},$ZQ=function(p){var q;
return!((q=p.U.getVideoData())==null||!q.watchToWatchTransitionRenderer)},FUl=function(p,q){q=q===void 0?-1:q;
p=p.W.JU("ytp-autonav-endscreen-upnext-header");g.aF(p);if(q>=0){q=String(q);var B="Prochaine vid\u00e9o dans $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],S="Prochaine vid\u00e9o dans $SECONDS".indexOf(B);if(S>=0){p.appendChild(g.$a("Prochaine vid\u00e9o dans $SECONDS".slice(0,S)));var I=g.dF("span");g.I_(I,"ytp-autonav-endscreen-upnext-header-countdown-number");g.xa(I,q);p.appendChild(I);p.appendChild(g.$a("Prochaine vid\u00e9o dans $SECONDS".slice(S+B.length)));return}}g.xa(p,"\u00c0 suivre")},
oz=function(p,q){g.t.call(this,{J:"div",
Cb:["html5-endscreen","ytp-player-content",q||"base-endscreen"]});this.created=!1;this.player=p},nc=function(p){g.t.call(this,{J:"div",
Cb:["ytp-upnext","ytp-player-content"],Y:{"aria-label":"{{aria_label}}"},L:[{J:"div",G:"ytp-cued-thumbnail-overlay-image",Y:{style:"{{background}}"}},{J:"span",G:"ytp-upnext-top",L:[{J:"span",G:"ytp-upnext-header",jh:"\u00c0 suivre"},{J:"span",G:"ytp-upnext-title",jh:"{{title}}"},{J:"span",G:"ytp-upnext-author",jh:"{{author}}"}]},{J:"a",G:"ytp-upnext-autoplay-icon",Y:{role:"button",href:"{{url}}","aria-label":"Lire la vid\u00e9o suivante"},L:[{J:"svg",Y:{height:"100%",version:"1.1",viewBox:"0 0 72 72",
width:"100%"},L:[{J:"circle",G:"ytp-svg-autoplay-circle",Y:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{J:"circle",G:"ytp-svg-autoplay-ring",Y:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{J:"path",G:"ytp-svg-fill",Y:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{J:"span",G:"ytp-upnext-bottom",L:[{J:"span",G:"ytp-upnext-cancel"},{J:"span",G:"ytp-upnext-paused",
jh:"La lecture automatique est d\u00e9sactiv\u00e9e"}]}]});this.api=p;this.cancelButton=null;this.N=this.JU("ytp-svg-autoplay-ring");this.K=this.notification=this.W=this.suggestion=null;this.j=new g.YN(this.v_,5E3,this);this.Z=0;var q=this.JU("ytp-upnext-cancel");this.cancelButton=new g.t({J:"button",Cb:["ytp-upnext-cancel-button","ytp-button"],Y:{tabindex:"0","aria-label":"Annuler la lecture automatique"},jh:"Annuler"});g.h(this,this.cancelButton);this.cancelButton.listen("click",this.T$,this);this.cancelButton.kq(q);
this.cancelButton&&this.api.createClientVe(this.cancelButton.element,this,115129);g.h(this,this.j);this.api.createClientVe(this.element,this,18788);q=this.JU("ytp-upnext-autoplay-icon");this.S(q,"click",this.If);this.api.createClientVe(q,this,115130);this.ek();this.S(p,"autonavvisibility",this.ek);this.S(p,"mdxnowautoplaying",this.Ldd);this.S(p,"mdxautoplaycanceled",this.VCq);g.Hx(this.element,"ytp-upnext-mobile",this.api.B().Z)},DZb=function(p,q){if(q)return q;
if(p.api.isFullscreen()){var B;p=(B=p.api.getVideoData())==null?void 0:B.mM;return p===-1||p===void 0?8E3:p}return p.api.Gp()>=0?p.api.Gp():g.fG(p.api.B().experiments,"autoplay_time")||1E4},aZD=function(p,q){q=DZb(p,q);
var B=Math,S=B.min;var I=(0,g.FA)()-p.Z;B=S.call(B,I,q);q=q===0?1:Math.min(B/q,1);p.N.setAttribute("stroke-dashoffset",""+-211*(q+1));q>=1&&p.ED()&&p.api.getPresentingPlayerType()!==3?p.select(!0):p.ED()&&p.W.start()},gh=function(p){oz.call(this,p,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.t({J:"div",G:"ytp-suggestion-panel",L:[{J:"div",Cb:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],jh:"Plus de vid\u00e9os"}]});this.X=new g.t({J:"div",G:"ytp-suggestions-container"});this.videos=[];this.K=null;this.N=this.C=!1;this.Z=new Iz(this.player);g.h(this,this.Z);this.Z.kq(this.element);p.getVideoData().NE?this.W=this.Z:(this.W=new nc(p),g.hN(this.player,this.W.element,4),g.h(this,this.W));this.overlay=new g.t({J:"div",
G:"ytp-autonav-overlay-cancelled-state"});g.h(this,this.overlay);this.overlay.kq(this.element);this.j=new g.k$(this);g.h(this,this.j);g.h(this,this.table);this.table.kq(this.element);this.table.show();g.h(this,this.X);this.X.kq(this.table.element);this.hide()},wh=function(p){var q=p.wM();
q!==p.N&&(p.N=q,Ztl(p.player),p.N?(p.Z!==p.W&&p.Z.hide(),p.table.hide()):(p.Z!==p.W&&p.Z.show(),p.table.show()))},LUx=function(p){oz.call(this,p,"videowall-endscreen");
var q=this;this.U=p;this.stills=[];this.K=this.videoData=null;this.j=this.C=!1;this.X=null;g.o_(this.element,"modern-videowall-endscreen");this.Z=new g.k$(this);g.h(this,this.Z);this.N=new g.YN(function(){g.o_(q.element,"ytp-show-tiles")},0);
g.h(this,this.N);this.table=new g.gy({J:"div",G:"ytp-modern-endscreen-content"});g.h(this,this.table);this.table.kq(this.element);p.getVideoData().NE?this.W=new Iz(p,!0):this.W=new nc(p);g.h(this,this.W);g.hN(this.player,this.W.element,4);p.createClientVe(this.element,this,158789);this.hide()},HJ=function(p){return g.tN(p.player)&&p.fX()&&!p.K},MH=function(p){var q=p.wM();
q!==p.C&&(p.C=q,Ztl(p.player))},Riz=function(p){oz.call(this,p,"subscribecard-endscreen");
this.W=new g.t({J:"div",G:"ytp-subscribe-card",L:[{J:"img",G:"ytp-author-image",Y:{src:"{{profilePicture}}"}},{J:"div",G:"ytp-subscribe-card-right",L:[{J:"div",G:"ytp-author-name",jh:"{{author}}"},{J:"div",G:"html5-subscribe-button-container"}]}]});g.h(this,this.W);this.W.kq(this.element);var q=p.getVideoData();this.subscribeButton=new g.KW("S'abonner",null,"Se d\u00e9sabonner",null,!0,!1,q.g7,q.subscribed,"trailer-endscreen",null,p,!1);g.h(this,this.subscribeButton);this.subscribeButton.kq(this.W.JU("html5-subscribe-button-container"));
this.S(p,"videodatachange",this.Sh);this.Sh();this.hide()},cJ=function(p){var q=p.B(),B=g.w5||g.V0?{style:"will-change: opacity"}:void 0,S=q.j,I=["ytp-videowall-still"];
q.Z&&I.push("ytp-videowall-show-text");g.t.call(this,{J:"a",Cb:I,Y:{href:"{{url}}",target:S?q.hU:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},L:[{J:"div",G:"ytp-videowall-still-image",Y:{style:"{{background}}"}},{J:"span",G:"ytp-videowall-still-info",Y:{"aria-hidden":"true"},L:[{J:"span",G:"ytp-videowall-still-info-bg",L:[{J:"span",G:"ytp-videowall-still-info-content",Y:B,L:[{J:"span",G:"ytp-videowall-still-info-title",jh:"{{title}}"},
{J:"span",G:"ytp-videowall-still-info-author",jh:"{{author_and_views}}"},{J:"span",G:"ytp-videowall-still-info-live",jh:"En direct"},{J:"span",G:"ytp-videowall-still-info-duration",jh:"{{duration}}"}]}]}]},{J:"span",Cb:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],Y:{"aria-hidden":"true"},L:[{J:"span",G:"ytp-videowall-still-listlabel-icon"},"Playlist",{J:"span",G:"ytp-videowall-still-listlabel-length",L:[" (",{J:"span",jh:"{{playlist_length}}"},")"]}]},{J:"span",Cb:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],Y:{"aria-hidden":"true"},L:[{J:"span",G:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{J:"span",G:"ytp-videowall-still-listlabel-length",jh:" (50+)"}]}]});this.suggestion=null;this.Z=S;this.api=p;this.W=new g.k$(this);g.h(this,this.W);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.W.S(p,"videodatachange",this.onVideoDataChange);p.createServerVe(this.element,this);this.onVideoDataChange()},ks=function(p){oz.call(this,p,"videowall-endscreen");
var q=this;this.U=p;this.K=0;this.stills=[];this.j=this.videoData=null;this.N=this.X=!1;this.T=null;this.Z=new g.k$(this);g.h(this,this.Z);this.C=new g.YN(function(){g.o_(q.element,"ytp-show-tiles")},0);
g.h(this,this.C);var B=new g.t({J:"button",Cb:["ytp-button","ytp-endscreen-previous"],Y:{"aria-label":"Pr\u00e9c\u00e9dente"},L:[g.PS()]});g.h(this,B);B.kq(this.element);B.listen("click",this.di,this);this.table=new g.gy({J:"div",G:"ytp-endscreen-content"});g.h(this,this.table);this.table.kq(this.element);B=new g.t({J:"button",Cb:["ytp-button","ytp-endscreen-next"],Y:{"aria-label":"Suivante"},L:[g.us()]});g.h(this,B);B.kq(this.element);B.listen("click",this.i_,this);p.getVideoData().NE?this.W=new Iz(p,
!0):this.W=new nc(p);g.h(this,this.W);g.hN(this.player,this.W.element,4);p.createClientVe(this.element,this,158789);this.hide()},rh=function(p){return g.tN(p.player)&&p.fX()&&!p.j},A3=function(p){var q=p.wM();
q!==p.X&&(p.X=q,Ztl(p.player))},vfI=function(p,q){g.t.call(this,{J:"button",
Cb:["ytp-watch-on-youtube-button","ytp-button"],jh:"{{content}}"});this.U=p;this.buttonType=this.buttonType=q;this.A4();this.buttonType===2&&g.o_(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.A4);this.fN(!0)},WJ=function(p){oz.call(this,p,"watch-again-on-youtube-endscreen");
this.watchButton=new vfI(p,1);g.h(this,this.watchButton);this.watchButton.kq(this.element);g.nU3(p)&&(this.W=new g.K2(p),g.h(this,this.W),this.Z=new g.t({J:"div",Cb:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],Y:{tabIndex:"-1"},L:[this.W]}),g.h(this,this.Z),this.W.kq(this.Z.element),this.Z.kq(this.element));p.createClientVe(this.element,this,156914);this.hide()},zib=function(p){g.MD.call(this,p);
var q=this;this.endScreen=null;this.W=this.Z=this.K=!1;this.listeners=new g.k$(this);g.h(this,this.listeners);var B=p.B();p.isEmbedsShortsMode()?this.endScreen=new WJ(p):Xop(p)?(this.K=!0,xZl(this),this.W?this.endScreen=new gh(p):B.D("delhi_modern_endscreen")?this.endScreen=new LUx(p):this.endScreen=new ks(p)):B.lO?this.endScreen=new Riz(p):this.endScreen=new oz(p);g.h(this,this.endScreen);g.hN(p,this.endScreen.element,4);Tmx(this);this.listeners.S(p,"videodatachange",this.onVideoDataChange,this);
this.listeners.S(p,g.EX("endscreen"),function(S){q.onCueRangeEnter(S)});
this.listeners.S(p,g.Ka("endscreen"),function(S){q.onCueRangeExit(S)})},xZl=function(p){var q=p.player.getVideoData();
if(!q||p.W===q.I8&&p.Z===q.NE)return!1;p.W=q.I8;p.Z=q.NE;return!0},Xop=function(p){p=p.B();
return p.lR&&!p.lO&&!p.disableOrganicUi},Tmx=function(p){p.player.Gq("endscreen");
var q=p.player.getVideoData();q=new g.hK(Math.max((q.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var B=new g.hK(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});p.player.PA([q,B])};
g.XI.prototype.Gp=g.VD(8,function(){return this.app.Gp()});
g.cm.prototype.Gp=g.VD(7,function(){return this.getVideoData().Hm});
g.$m.prototype.sR=g.VD(6,function(p){this.Xh().sR(p)});
g.yU.prototype.sR=g.VD(5,function(p){this.FY!==p&&(this.FY=p,this.zm())});
g.Z(Sm,g.t);Sm.prototype.select=function(){this.U.bu(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.D9||void 0)&&this.U.logClick(this.element)};
Sm.prototype.onClick=function(p){g.rK(p,this.U,this.W,this.suggestion.sessionData||void 0)&&this.select()};
Sm.prototype.onKeyPress=function(p){switch(p.keyCode){case 13:case 32:p.defaultPrevented||(this.select(),p.preventDefault())}};g.Z(Iz,g.t);g.u=Iz.prototype;g.u.oE=function(p){this.suggestion!==p&&(this.suggestion=p,g.mo(this.W,p),this.playButton.updateValue("url",this.suggestion.gr()),Oj(this))};
g.u.ED=function(){return this.K>0};
g.u.hG=function(){this.ED()||(this.K=Date.now(),btS(this),itD(this.U,dZX(this)),g.Hx(this.U.getRootNode(),"countdown-running",this.ED()))};
g.u.jd=function(){this.fZ();btS(this);var p=this.W.JU("ytp-autonav-endscreen-upnext-header");p&&g.xa(p,"\u00c0 suivre")};
g.u.fZ=function(){this.ED()&&(this.j.stop(),this.K=0)};
g.u.select=function(p){this.U.nextVideo(!1,p===void 0?!1:p);this.fZ()};
g.u.Ii=function(p){g.rK(p,this.U)&&(p.currentTarget===this.playButton.element?this.U.logClick(this.playButton.element):p.currentTarget===this.W.JU("ytp-autonav-endscreen-link-container")&&(p=this.W.JU("ytp-autonav-endscreen-link-container"),this.U.logVisibility(p,!0),this.U.logClick(p)),this.N?(this.U.TR("innertubeCommand",this.N),this.fZ()):this.select())};
g.u.At=function(){this.U.logClick(this.cancelButton.element);g.Te(this.U,!0);this.cancelCommand&&this.U.TR("innertubeCommand",this.cancelCommand)};
g.u.onVideoDataChange=function(p,q){Jfp(this,q);p=q.getWatchNextResponse();var B,S;p=(B=C$l(p))==null?void 0:(S=B.cancelButton)==null?void 0:S.buttonRenderer;this.cancelCommand=p==null?void 0:p.command};
g.u.j5$=function(p){if($ZQ(this)){var q=this.U.getVideoData().watchToWatchTransitionRenderer,B=q==null?void 0:q.fromColorPaletteDark;q=q==null?void 0:q.toColorPaletteDark;if(B&&q){var S=this.element;S.style.setProperty("--w2w-start-background-color",g.Vj(B.surgeColor));S.style.setProperty("--w2w-start-primary-text-color",g.Vj(B.primaryTitleColor));S.style.setProperty("--w2w-start-secondary-text-color",g.Vj(B.secondaryTitleColor));S.style.setProperty("--w2w-end-background-color",g.Vj(q.surgeColor));
S.style.setProperty("--w2w-end-primary-text-color",g.Vj(q.primaryTitleColor));S.style.setProperty("--w2w-end-secondary-text-color",g.Vj(q.secondaryTitleColor));S.style.setProperty("--w2w-animation-duration",p+"ms")}g.Hx(this.element,"ytp-w2w-animate",!0)}};
g.u.HU=function(p){this.U.D("web_autonav_color_transition")&&p!==2&&g.Hx(this.element,"ytp-w2w-animate",!1)};
g.u.TG=function(){var p=this.U.wM();this.C&&this.rg!==p&&this.fN(p);Oj(this);this.U.logVisibility(this.container.element,p);this.U.logVisibility(this.cancelButton.element,p);this.U.logVisibility(this.W.JU("ytp-autonav-endscreen-link-container"),p);this.U.logVisibility(this.playButton.element,p)};
g.u.uO=function(p){return p.width<400||p.height<459};g.Z(oz,g.t);g.u=oz.prototype;g.u.create=function(){this.created=!0};
g.u.destroy=function(){this.created=!1};
g.u.fX=function(){return!1};
g.u.wM=function(){return!1};
g.u.My=function(){return!1};g.Z(nc,g.t);g.u=nc.prototype;g.u.v_=function(){this.notification&&(this.j.stop(),this.sF(this.K),this.K=null,this.notification.close(),this.notification=null)};
g.u.oE=function(p){this.suggestion=p;g.mo(this,p,"hqdefault.jpg")};
g.u.ek=function(){this.fN(this.api.wM());this.api.logVisibility(this.element,this.api.wM());this.api.logVisibility(this.JU("ytp-upnext-autoplay-icon"),this.api.wM());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.wM())};
g.u.ZlU=function(){window.focus();this.v_()};
g.u.hG=function(p){var q=this;this.ED()||(g.ID("a11y-announce","\u00c0 suivre "+this.suggestion.title),this.Z=(0,g.FA)(),this.W=new g.YN(function(){aZD(q,p)},25),aZD(this,p),itD(this.api,DZb(this,p)));
g.g8(this.element,"ytp-upnext-autoplay-paused")};
g.u.hide=function(){g.t.prototype.hide.call(this)};
g.u.ED=function(){return!!this.W};
g.u.jd=function(){this.fZ();this.Z=(0,g.FA)();aZD(this);g.o_(this.element,"ytp-upnext-autoplay-paused")};
g.u.fZ=function(){this.ED()&&(this.W.dispose(),this.W=null)};
g.u.select=function(p){p=p===void 0?!1:p;if(this.api.B().D("autonav_notifications")&&p&&window.Notification&&typeof document.hasFocus==="function"){var q=Notification.permission;q==="default"?Notification.requestPermission():q!=="granted"||document.hasFocus()||(this.v_(),this.notification=new Notification("\u00c0 suivre",{body:this.suggestion.title,icon:this.suggestion.RF()}),this.K=this.S(this.notification,"click",this.ZlU),this.j.start())}this.fZ();this.api.nextVideo(!1,p)};
g.u.If=function(p){!g.XL(this.cancelButton.element,p.target)&&g.rK(p,this.api)&&(this.api.wM()&&this.api.logClick(this.JU("ytp-upnext-autoplay-icon")),this.select())};
g.u.T$=function(){this.api.wM()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.Te(this.api,!0)};
g.u.Ldd=function(p){this.api.getPresentingPlayerType();this.show();this.hG(p)};
g.u.VCq=function(){this.api.getPresentingPlayerType();this.fZ();this.hide()};
g.u.Fg=function(){this.fZ();this.v_();g.t.prototype.Fg.call(this)};g.Z(gh,oz);g.u=gh.prototype;g.u.create=function(){oz.prototype.create.call(this);this.j.S(this.player,"appresize",this.qK);this.j.S(this.player,"onVideoAreaChange",this.qK);this.j.S(this.player,"videodatachange",this.onVideoDataChange);this.j.S(this.player,"autonavchange",this.Lo);this.j.S(this.player,"onAutonavCancelled",this.Lp);this.onVideoDataChange()};
g.u.show=function(){oz.prototype.show.call(this);(this.C||this.K&&this.K!==this.videoData.clientPlaybackNonce)&&g.Te(this.player,!1);g.tN(this.player)&&this.fX()&&!this.K?(wh(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||QJl(this.player.hf())&&this.player.D("web_player_pip_logging_fix")?this.W.select(!0):this.W.hG():this.videoData.autonavState===3&&this.W.jd()):(g.Te(this.player,!0),wh(this));this.qK()};
g.u.hide=function(){oz.prototype.hide.call(this);this.W.jd();wh(this)};
g.u.qK=function(){var p=this.player.WY(!0,this.player.isFullscreen());wh(this);Oj(this.Z);g.Hx(this.element,"ytp-autonav-cancelled-small-mode",this.uO(p));g.Hx(this.element,"ytp-autonav-cancelled-tiny-mode",this.n7(p));g.Hx(this.element,"ytp-autonav-cancelled-mini-mode",p.width<=400||p.height<=360);this.overlay&&g.IN(this.overlay.element,{width:p.width+"px"});if(!this.N)for(p=0;p<this.videos.length;p++)g.Hx(this.videos[p].element,"ytp-suggestion-card-with-margin",p%2===1)};
g.u.onVideoDataChange=function(){var p=this.player.getVideoData();if(this.videoData!==p&&p){this.videoData=p;p=this.videoData.suggestions;var q=g.kI(this.videoData);q&&(this.W.oE(q),this.W!==this.Z&&this.Z.oE(q));if(p&&p.length)for(q=0;q<Vip.length;++q){var B=Vip[q];if(p&&p[B]){this.videos[q]=new Sm(this.player);var S=this.videos[q];B=p[B];S.suggestion!==B&&(S.suggestion=B,g.mo(S,B));g.h(this,this.videos[q]);this.videos[q].kq(this.X.element)}}this.qK()}};
g.u.Lo=function(p){p===1?(this.C=!1,this.K=this.videoData.clientPlaybackNonce,this.W.fZ(),this.rg&&this.qK()):(this.C=!0,this.wM()&&(p===2?this.W.hG():p===3&&this.W.jd()))};
g.u.Lp=function(p){p?this.Lo(1):(this.K=null,this.C=!1)};
g.u.fX=function(){return this.videoData.autonavState!==1};
g.u.uO=function(p){return(p.width<910||p.height<459)&&!this.n7(p)&&!(p.width<=400||p.height<=360)};
g.u.n7=function(p){return p.width<800&&!(p.width<=400||p.height<=360)};
g.u.wM=function(){return this.rg&&g.tN(this.player)&&this.fX()&&!this.K};
var Vip=[1,3,2,4];g.Z(LUx,oz);g.u=LUx.prototype;g.u.create=function(){oz.prototype.create.call(this);var p=this.player.getVideoData();p&&(this.videoData=p);this.OV();this.Z.S(this.player,"appresize",this.OV);this.Z.S(this.player,"onVideoAreaChange",this.OV);this.Z.S(this.player,"videodatachange",this.onVideoDataChange);this.Z.S(this.player,"autonavchange",this.MF);this.Z.S(this.player,"onAutonavCancelled",this.V4);p=this.videoData.autonavState;p!==this.X&&this.MF(p);this.Z.S(this.element,"transitionend",this.PU)};
g.u.destroy=function(){g.Xd(this.Z);g.PQ(this.stills);this.stills=[];oz.prototype.destroy.call(this);g.g8(this.element,"ytp-show-tiles");this.N.stop();this.X=this.videoData.autonavState};
g.u.fX=function(){return this.videoData.autonavState!==1};
g.u.show=function(){var p=this.rg;oz.prototype.show.call(this);g.g8(this.element,"ytp-show-tiles");this.player.B().Z?g.mq(this.N):this.N.start();(this.j||this.K&&this.K!==this.videoData.clientPlaybackNonce)&&g.Te(this.player,!1);HJ(this)?(MH(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||QJl(this.player.hf())&&this.player.D("web_player_pip_logging_fix")?this.W.select(!0):this.W.hG():this.videoData.autonavState===3&&this.W.jd()):(g.Te(this.player,!0),MH(this));p!==this.rg&&
this.player.logVisibility(this.element,!0)};
g.u.hide=function(){var p=this.rg;oz.prototype.hide.call(this);this.W.jd();MH(this);p!==this.rg&&this.player.logVisibility(this.element,!1)};
g.u.PU=function(p){p.target===this.element&&this.OV()};
g.u.OV=function(){var p,q,B,S;var I=((p=this.videoData)==null?0:(q=p.suggestions)==null?0:q.length)?(B=this.videoData)==null?void 0:B.suggestions:[(S=this.videoData)==null?void 0:g.kI(S)];if(I.length){q=this.U.WY(!0,this.U.isFullscreen());p=Math.floor((q.width-64+16)/(g.qw(q.width*.27,250,450)+16));q=Math.min(3,Math.floor((q.height-64)/((q.width-64-(p-1)*16)/p*.5625+70)));g.w8(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.o_(this.element,"ytp-modern-endscreen-limit-rows-"+q);g.Hx(this.element,"ytp-modern-endscreen-single-item",p===1);g.Hx(this.element,"ytp-modern-endscreen-row-0",q===0);p=this.table.element;p.ariaLive="polite";this.W.oE(g.kI(this.videoData));this.W instanceof Iz&&Oj(this.W);g.Hx(this.element,"ytp-endscreen-takeover",HJ(this));MH(this);q=0;p.ariaBusy="true";B=I.length;for(S=0;S<B;S++){var O=S%B,n=this.stills[S];n||(n=new g.f3(this.player),this.stills[S]=n,p.appendChild(n.element));g.Paq(n,I[O]);q++}this.stills.length=
q}};
g.u.onVideoDataChange=function(){var p=this.player.getVideoData(1);this.videoData!==p&&(p!=null&&g.kI(p)?(this.videoData=p,this.OV()):this.player.xq("missg",{vid:(p==null?void 0:p.videoId)||"",cpn:(p==null?void 0:p.clientPlaybackNonce)||""}))};
g.u.My=function(){return this.W.ED()};
g.u.MF=function(p){p===1?(this.j=!1,this.K=this.videoData.clientPlaybackNonce,this.W.fZ(),this.rg&&this.OV()):(this.j=!0,this.rg&&HJ(this)&&(p===2?this.W.hG():p===3&&this.W.jd()))};
g.u.V4=function(p){if(p){for(p=0;p<this.stills.length;p++)this.U.logVisibility(this.stills[p].element,!0);this.MF(1)}else this.K=null,this.j=!1;this.OV()};
g.u.wM=function(){return this.rg&&HJ(this)};g.Z(Riz,oz);Riz.prototype.Sh=function(){var p=this.player.getVideoData();this.W.update({profilePicture:p.profilePicture,author:p.author});this.subscribeButton.channelId=p.g7;var q=this.subscribeButton;p.subscribed?q.W():q.Z()};g.Z(cJ,g.t);cJ.prototype.select=function(){this.api.bu(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.D9||void 0)&&this.api.logClick(this.element)};
cJ.prototype.onClick=function(p){if(g.Nv(this.api.B())&&this.api.D("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var q=this.suggestion.gr(),B={};g.yp(this.api,B);q=g.L1(q,B);g.Ah(q,this.api,p)}else g.rK(p,this.api,this.Z,this.suggestion.sessionData||void 0)&&this.select()};
cJ.prototype.onKeyPress=function(p){switch(p.keyCode){case 13:case 32:p.defaultPrevented||(this.select(),p.preventDefault())}};
cJ.prototype.onVideoDataChange=function(){var p=this.api.getVideoData(),q=this.api.B();this.Z=p.P6?!1:q.j};g.Z(ks,oz);g.u=ks.prototype;g.u.create=function(){oz.prototype.create.call(this);var p=this.player.getVideoData();p&&(this.videoData=p);this.fd();this.Z.S(this.player,"appresize",this.fd);this.Z.S(this.player,"onVideoAreaChange",this.fd);this.Z.S(this.player,"videodatachange",this.onVideoDataChange);this.Z.S(this.player,"autonavchange",this.k8);this.Z.S(this.player,"onAutonavCancelled",this.mO);p=this.videoData.autonavState;p!==this.T&&this.k8(p);this.Z.S(this.element,"transitionend",this.Wa)};
g.u.destroy=function(){g.Xd(this.Z);g.PQ(this.stills);this.stills=[];oz.prototype.destroy.call(this);g.g8(this.element,"ytp-show-tiles");this.C.stop();this.T=this.videoData.autonavState};
g.u.fX=function(){return this.videoData.autonavState!==1};
g.u.show=function(){var p=this.rg;oz.prototype.show.call(this);g.g8(this.element,"ytp-show-tiles");this.player.B().Z?g.mq(this.C):this.C.start();(this.N||this.j&&this.j!==this.videoData.clientPlaybackNonce)&&g.Te(this.player,!1);rh(this)?(A3(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||QJl(this.player.hf())&&this.player.D("web_player_pip_logging_fix")?this.W.select(!0):this.W.hG():this.videoData.autonavState===3&&this.W.jd()):(g.Te(this.player,!0),A3(this));p!==this.rg&&
this.player.logVisibility(this.element,!0)};
g.u.hide=function(){var p=this.rg;oz.prototype.hide.call(this);this.W.jd();A3(this);p!==this.rg&&this.player.logVisibility(this.element,!1)};
g.u.Wa=function(p){p.target===this.element&&this.fd()};
g.u.fd=function(){var p,q,B,S;var I=((p=this.videoData)==null?0:(q=p.suggestions)==null?0:q.length)?(B=this.videoData)==null?void 0:B.suggestions:[(S=this.videoData)==null?void 0:g.kI(S)];if(I.length){g.o_(this.element,"ytp-endscreen-paginate");var O=this.U.WY(!0,this.U.isFullscreen());if(p=g.Ce(this.U))p=p.N7()?48:32,O.width-=p*2;var n=O.width/O.height;S=96/54;q=p=2;var H=Math.max(O.width/96,2),M=Math.max(O.height/54,2);B=I.length;var c=B*4;for(c-=4;c>0&&(p<H||q<M);){var k=p/2,r=q/2,W=p<=H-2&&c>=
r*4,A=q<=M-2&&c>=k*4;if((k+1)/r*S/n>n/(k/(r+1)*S)&&A)c-=k*4,q+=2;else if(W)c-=r*4,p+=2;else if(A)c-=k*4,q+=2;else break}S=!1;c>=12&&B*4-c<=6&&(q>=4||p>=4)&&(S=!0);c=p*96;H=q*54;n=c/H<n?O.height/H:O.width/c;n=Math.min(n,2);c=Math.floor(Math.min(O.width,c*n));H=Math.floor(Math.min(O.height,H*n));O=this.table.element;O.ariaLive="polite";g.AR(O,c,H);g.IN(O,{marginLeft:c/-2+"px",marginTop:H/-2+"px"});this.W.oE(g.kI(this.videoData));this.W instanceof Iz&&Oj(this.W);g.Hx(this.element,"ytp-endscreen-takeover",
rh(this));A3(this);c+=4;H+=4;n=0;O.ariaBusy="true";for(M=0;M<p;M++)for(k=0;k<q;k++)if(r=n,A=0,S&&M>=p-2&&k>=q-2?A=1:k%2===0&&M%2===0&&(k<2&&M<2?k===0&&M===0&&(A=2):A=2),r=g.B8(r+this.K,B),A!==0){W=this.stills[n];W||(W=new cJ(this.player),this.stills[n]=W,O.appendChild(W.element));var P=Math.floor(H*k/q),Q=Math.floor(c*M/p),J=Math.floor(H*(k+A)/q)-P-4,R=Math.floor(c*(M+A)/p)-Q-4;g.MA(W.element,Q,P);g.AR(W.element,R,J);g.IN(W.element,"transitionDelay",(k+M)/20+"s");g.Hx(W.element,"ytp-videowall-still-mini",
A===1);g.Hx(W.element,"ytp-videowall-still-large",A>2);A=Math.max(R,J);g.Hx(W.element,"ytp-videowall-still-round-large",A>=256);g.Hx(W.element,"ytp-videowall-still-round-medium",A>96&&A<256);g.Hx(W.element,"ytp-videowall-still-round-small",A<=96);r=I[r];W.suggestion!==r&&(W.suggestion=r,A=W.api.B(),P=g.Or(W.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.mo(W,r,P),g.Nv(A)&&!W.api.D("web_player_log_click_before_generating_ve_conversion_params")&&(A=r.gr(),P={},g.u5(W.api,"addEmbedsConversionTrackingParams",
[P]),A=g.L1(A,P),W.updateValue("url",A)),(r=(r=r.sessionData)&&r.itct)&&W.api.setTrackingParams(W.element,r));n++}O.ariaBusy="false";g.Hx(this.element,"ytp-endscreen-paginate",n<B);for(I=this.stills.length-1;I>=n;I--)p=this.stills[I],g.v8(p.element),g.WQ(p);this.stills.length=n}};
g.u.onVideoDataChange=function(){var p=this.player.getVideoData(1);this.videoData!==p&&(p!=null&&g.kI(p)?(this.K=0,this.videoData=p,this.fd()):this.player.xq("missg",{vid:(p==null?void 0:p.videoId)||"",cpn:(p==null?void 0:p.clientPlaybackNonce)||""}))};
g.u.i_=function(){this.K+=this.stills.length;this.fd()};
g.u.di=function(){this.K-=this.stills.length;this.fd()};
g.u.My=function(){return this.W.ED()};
g.u.k8=function(p){p===1?(this.N=!1,this.j=this.videoData.clientPlaybackNonce,this.W.fZ(),this.rg&&this.fd()):(this.N=!0,this.rg&&rh(this)&&(p===2?this.W.hG():p===3&&this.W.jd()))};
g.u.mO=function(p){if(p){for(p=0;p<this.stills.length;p++)this.U.logVisibility(this.stills[p].element,!0);this.k8(1)}else this.j=null,this.N=!1;this.fd()};
g.u.wM=function(){return this.rg&&rh(this)};g.Z(vfI,g.t);g.u=vfI.prototype;g.u.A4=function(){switch(this.buttonType){case 1:var p="Regarder \u00e0 nouveau sur YouTube";var q=156915;break;case 2:p="Continuer \u00e0 regarder sur YouTube";q=156942;break;default:p="Continuer \u00e0 regarder sur YouTube",q=156942}this.update({content:p});this.U.hasVe(this.element)&&this.U.destroyVe(this.element);this.U.createClientVe(this.element,this,q)};
g.u.onClick=function(p){this.U.D("web_player_log_click_before_generating_ve_conversion_params")&&this.U.logClick(this.element);g.Ah(this.getVideoUrl(),this.U,p);this.U.D("web_player_log_click_before_generating_ve_conversion_params")||this.U.logClick(this.element)};
g.u.getVideoUrl=function(){var p=!0;switch(this.buttonType){case 1:p=!0;break;case 2:p=!1}p=this.U.getVideoUrl(p,!1,!1,!0);var q=this.U.B();if(g.Nv(q)){var B={};g.Nv(q)&&g.u5(this.U,"addEmbedsConversionTrackingParams",[B]);p=g.L1(p,B)}return p};
g.u.logVisibility=function(){this.U.logVisibility(this.element,this.rg&&this.hU)};
g.u.show=function(){g.t.prototype.show.call(this);this.logVisibility()};
g.u.hide=function(){g.t.prototype.hide.call(this);this.logVisibility()};
g.u.KL=function(p){g.t.prototype.KL.call(this,p);this.logVisibility()};g.Z(WJ,oz);WJ.prototype.hasSuggestions=function(){var p;return(p=this.W)==null?void 0:p.hasSuggestions()};
WJ.prototype.show=function(){if(this.player.getPlayerState()!==3){oz.prototype.show.call(this);var p=this.Z;if(p){var q=this.W.hasSuggestions();g.Hx(this.element,"ytp-shorts-branded-ui",q);q?p.show():p.hide()}var B;(B=g.Ce(this.player))==null||B.sR(!0);this.player.logVisibility(this.element,!0);this.watchButton.KL(!0)}};
WJ.prototype.hide=function(){oz.prototype.hide.call(this);var p;(p=g.Ce(this.player))==null||p.sR(!1);this.player.logVisibility(this.element,!1);this.watchButton.KL(!1)};g.Z(zib,g.MD);g.u=zib.prototype;g.u.sM=function(){var p=this.player.getVideoData(),q=p.mutedAutoplay&&(p.limitedPlaybackDurationInSeconds>0||p.endSeconds>0||p.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!q)return!0;var B;var S=!!((p==null?0:g.kI(p))||(p==null?0:(B=p.suggestions)==null?0:B.length));S=!Xop(this.player)||S;p=p.EK;B=this.player.dK();return S&&!p&&!B&&!q};
g.u.wM=function(){return this.endScreen.wM()};
g.u.ugQ=function(){return this.wM()?this.endScreen.My():!1};
g.u.Fg=function(){this.player.Gq("endscreen");g.MD.prototype.Fg.call(this)};
g.u.load=function(){var p=this.player.getVideoData();var q=p.transitionEndpointAtEndOfStream;if(q&&q.videoId){var B=this.player.CN().Jw.get("heartbeat"),S=g.kI(p);!S||q.videoId!==S.videoId||p.Kn?(this.player.bu(q.videoId,void 0,void 0,!0,!0,q),B&&B.Ts("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),p=!0):p=!1}else p=!1;p||(g.MD.prototype.load.call(this),this.endScreen.show())};
g.u.unload=function(){g.MD.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.u.onCueRangeEnter=function(p){this.sM()&&(this.endScreen.created||this.endScreen.create(),p.getId()==="load"&&this.load())};
g.u.onCueRangeExit=function(p){p.getId()==="load"&&this.loaded&&this.unload()};
g.u.onVideoDataChange=function(){Tmx(this);this.K&&xZl(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.W?this.endScreen=new gh(this.player):this.endScreen=new ks(this.player),g.h(this,this.endScreen),g.hN(this.player,this.endScreen.element,4))};g.Hi("endscreen",zib);})(_yt_player);
